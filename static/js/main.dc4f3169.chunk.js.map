{"version":3,"sources":["features/darkmode/DarkModeSlice.js","images/gg-logo.svg","images/fb-logo.svg","firebase.js","pages/SigninPage.jsx","features/user/UserSlice.js","components/Chart.jsx","components/Details.jsx","components/Nav.jsx","components/CustomDialog.jsx","components/ColorPicker.jsx","components/CreateTopic.jsx","components/Topic.jsx","components/Tools.jsx","functions/find.js","functions/sort.js","components/Print.jsx","components/ConfigTest.jsx","components/ContentTest.jsx","components/ResultTest.jsx","components/Test.jsx","components/TopicList.jsx","components/CreateVocabulary.jsx","axios.js","components/Vocabulary.jsx","components/VocabularyList.jsx","pages/HomePage.jsx","App.js","app/store.js","serviceWorker.js","index.js"],"names":["darkModeSlice","createSlice","name","initialState","status","reducers","changeStatus","state","setStatus","action","payload","actions","selectStatus","darkMode","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseStore","firestore","firebaseAuth","auth","providerGG","GoogleAuthProvider","providerFB","FacebookAuthProvider","increment","FieldValue","decrement","fieldValue","useStyles","makeStyles","theme","root","display","placeItems","padding","height","width","background","backgroundSize","animation","transitions","easing","easeInOut","marginBottom","fontSize","color","palette","primary","main","backgroundPosition","container","maxWidth","spacing","boxShadow","shadows","breakpoints","down","flex","flexDirection","alignItems","logo","borderRadius","fill","button","position","cursor","margin","fontWeight","transition","with","top","left","transform","opacity","SigninPage","classes","className","Typography","variant","style","onClick","signInWithPopup","then","result","catch","error","alert","src","ggLogo","alt","credential","fbLogo","userSlice","user","getUser","removeUser","addDataUser","data","addTopicsList","topicsList","selectUser","Chart","useState","dataChart","setDataChart","useEffect","temp","reduce","arr","cur","index","minutes","push","LineChart","right","bottom","Line","type","dataKey","stroke","CartesianGrid","strokeDasharray","XAxis","YAxis","zIndex","alignSelf","paddingRight","border","textTransform","paddingTop","borderLeft","header","textAlign","borderBottom","lineHeight","contentDetail","row","marginRight","containerChart","fixedIcon","LightTooltip","withStyles","tooltip","backgroundColor","common","white","Tooltip","Details","setIsOpenDetail","widthChart","setWidthChart","useRef","useSelector","history","useHistory","dispatch","useDispatch","handleResize","current","offsetWidth","window","addEventListener","removeEventListener","Grid","item","xs","sm","md","ref","Avatar","avatar","Button","signOut","component","title","placement","email","score","countTopic","countVocab","onlinedTime","Fab","aria-label","justifyContent","items","switch","marginLeft","more","Nav","isOpenDetail","isDarkMode","Switch","icon","checked","checkedIcon","size","inputProps","onChange","localStorage","setItem","JSON","stringify","overflowY","CustomDialog","props","open","handleClose","content","cancel","agree","colorTitle","eventAgree","eventCancel","isMutiple","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogActions","autoFocus","ColorPicker","setBackground","onChangeComplete","hex","marginTop","textField","CreateTopic","backgroundP","isOpen","setIsOpen","handleCreateTopic","isEdit","topic","setTopic","setInitialValue","CustomDialogContent","TextField","fullWidth","value","e","target","minWidth","text","Topic","isForgetful","setDataPrint","isOpenCreateTopic","setIsOpenCreateTopic","db","collection","doc","setCountVocab","sort","Math","random","a","get","reponse","exists","getCountVocab","Card","CardActionArea","CardContent","gutterBottom","minHeight","length","listStyleType","slice","map","sub","en","toLowerCase","vi","CardActions","arrow","delete","update","err","forgetful","menuToggle","menuRound","transitionDelay","btnApp","menuLine","searchField","outline","searchIcon","order","Tools","timeout","dataFinding","setDataFinding","setValueSort","isVocab","handleTest","isTopic","setOrder","handleOrder","old","column","clearTimeout","checkOpen","classList","includes","delay","remove","setTimeout","toggle","placeholder","findTopic","key","filter","toUpperCase","findVocab","key1","key2","sortTopic","mapSort","isAsc","element1","element2","value1","value2","sortVocab","cover","paper","close","list","listStyle","Print","dataPrint","Paper","element","wrapper","select","btn","ConfigTest","config","setConfig","setBeginTest","setOpenTest","amount","option","mode","direc","countdown","textDecoration","flexWrap","flexBasis","change_alias","alias","str","trim","replace","ContentTest","isEn","setIndex","currentVocab","setResult","answer","setAnswer","speaker","dataQuiz","setDataQuiz","input","indexQuiz","setIndexQuiz","handleConfirm","check","wrong","vocabs","focus","isPlaying","duration","colors","strokeWidth","onComplete","remainingTime","lang","voice","play","onKeyDown","paddingLeft","maxHeight","ResultTest","dataTest","changeScoreToText","allTopic","forEach","newWrong","scoreWrong","newRight","idTopic","isChange","checkArr","Test","beginTest","setCurrentVocab","array","confirm","default","wrapperInform","notFound","TopicList","setCountTopic","valueSort","openTest","setDataTest","now","Date","columnsCountBreakPoints","350","750","900","gutter","arrayDataTest","e1","e2","intialData","dateCreated","set","CreateVocabulary","handleCreateVocab","enE","viE","setEn","setVi","enInput","inputRef","axiosInstance","axios","create","baseURL","middle","Vocabulary","hanleRemoveVocab","isAddForgetful","handleEdit","expanded","setExpanded","addForgetful","isOpenCreateVocabulary","setIsOpenCreateVocabulary","addiContent","setAddiContent","subContent","getData","response","addSubContent","tratu","fields","fulltext","substring","search","innerHTML","Accordion","AccordionSummary","aria-controls","before","AccordionDetails","VocabularyList","setData","isOpenSnackbar","setIsOpenSnackbar","useParams","arrayRemove","vocabsEdited","vocab","handleClick","handleCloseSnackbar","event","reason","arrayUnion","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","message","IconButton","calOnlinedTime","start","end","parseFloat","toFixed","getWeek","date","time","onejan","getFullYear","ceil","getDay","compareDate","time1","time2","date1","date2","getMonth","getDate","HomePage","setStart","useBeforeunload","addOnlinedTime","preventDefault","dateStart","fetchData","reverse","findNotZero","find","handleAccount","onSnapshot","snap","fetchTopicsList","exact","path","App","createMuiTheme","secondary","onAuthStateChanged","console","log","displayName","photoURL","initialDarkMode","getItem","parse","ThemeProvider","configureStore","reducer","darkModeReducer","userReducer","Boolean","location","hostname","match","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.dc4f3169.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const darkModeSlice = createSlice({\r\n  name: 'darkmode',\r\n  initialState: {\r\n    status: false,\r\n  },\r\n  reducers: {\r\n    changeStatus: state => {\r\n      state.status = !state.status;\r\n    },\r\n    setStatus: (state, action) => {\r\n      state.status = action.payload\r\n    }\r\n  },\r\n});\r\n\r\nexport const { changeStatus, setStatus } = darkModeSlice.actions;\r\n\r\nexport const selectStatus = state => state.darkMode.status;\r\n\r\nexport default darkModeSlice.reducer;\r\n","export default __webpack_public_path__ + \"static/media/gg-logo.6bcb04c9.svg\";","export default __webpack_public_path__ + \"static/media/fb-logo.6da57fc3.svg\";","import firebase from 'firebase'\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCVhODuJBrpuGEkApf9f98LVZeIL9A2I78\",\r\n    authDomain: \"doanchuyennganh-088.firebaseapp.com\",\r\n    projectId: \"doanchuyennganh-088\",\r\n    storageBucket: \"doanchuyennganh-088.appspot.com\",\r\n    messagingSenderId: \"766382499192\",\r\n    appId: \"1:766382499192:web:f39054888229c7f6c8d48d\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseStore = firebase.firestore()\r\nexport const firebaseAuth = firebase.auth();\r\nexport const providerGG = new firebase.auth.GoogleAuthProvider();\r\nexport const providerFB = new firebase.auth.FacebookAuthProvider();\r\nexport const increment = firebase.firestore.FieldValue.increment(1);\r\nexport const decrement = firebase.firestore.FieldValue.increment(-1);\r\nexport const fieldValue = firebase.firestore.FieldValue;\r\n","import { makeStyles, Typography } from \"@material-ui/core\";\r\nimport AcUnitIcon from \"@material-ui/icons/AcUnit\";\r\nimport ggLogo from \"../images/gg-logo.svg\";\r\nimport fbLogo from \"../images/fb-logo.svg\";\r\nimport { firebaseAuth, providerFB, providerGG } from \"../firebase\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    padding: \"0 5px\",\r\n    height: \"100vh\",\r\n    width: \"100vw\",\r\n    background:\r\n      \"linear-gradient(to left top, #d16ba5, #c777b9, #ba83ca, #aa8fd8, #9a9ae1, #8aa7ec, #79b3f4, #69bff8, #52cffe, #41dfff, #46eefa, #5ffbf1)\",\r\n    backgroundSize: \"400% 400%\",\r\n    animation: `$change 10s ${theme.transitions.easing.easeInOut} infinite`,\r\n\r\n    \"& .MuiTypography-subtitle1\": {\r\n      marginBottom: 50,\r\n      fontSize: \"1.1rem\",\r\n      color: theme.palette.primary.main,\r\n    },\r\n\r\n    \"& .MuiTypography-h6\": {\r\n      fontSize: \"1rem\",\r\n    },\r\n  },\r\n  \"@keyframes change\": {\r\n    \"0%\": {\r\n      backgroundPosition: \"0 50%\",\r\n    },\r\n    \"50%\": {\r\n      backgroundPosition: \"100% 50%\",\r\n    },\r\n    \"100%\": {\r\n      backgroundPosition: \"0 50%\",\r\n    },\r\n  },\r\n  container: {\r\n    width: \"100%\",\r\n    maxWidth: 400,\r\n    padding: `${theme.spacing(3)}px ${theme.spacing(3)}px ${theme.spacing(\r\n      7\r\n    )}px`,\r\n    background: \"#ffffff49\",\r\n    boxShadow: theme.shadows[20],\r\n    [theme.breakpoints.down(375)]: {\r\n      padding: `${theme.spacing(1.5)}px ${theme.spacing(1.5)}px ${theme.spacing(\r\n        5\r\n      )}px`,\r\n    },\r\n  },\r\n  flex: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  logo: {\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    width: 55,\r\n    height: 55,\r\n    borderRadius: 5,\r\n    background: theme.palette.primary.main,\r\n\r\n    \"& svg\": {\r\n      fill: \"#fff\",\r\n      width: \"1.5em\",\r\n      height: \"1.5em\",\r\n    },\r\n  },\r\n  button: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    height: 50,\r\n    padding: \"15px 0\",\r\n    cursor: \"pointer\",\r\n    margin: \"10px 0\",\r\n    color: \"#fff\",\r\n    fontWeight: 500,\r\n    boxShadow: theme.shadows[12],\r\n    transition: \".3s\",\r\n\r\n    \"& img\": {\r\n      position: \"absolute\",\r\n      with: 20,\r\n      height: 20,\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      transform: \"translate(-50%, -50%)\",\r\n      opacity: 0,\r\n      transition: \".3s\",\r\n      fill: \"#DB4437\",\r\n    },\r\n\r\n    \"& span\": {\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      transform: \"translate(-50%, -50%)\",\r\n\r\n      transition: \".3s\",\r\n    },\r\n\r\n    \"&:hover\": {\r\n      background:\r\n        \"linear-gradient(to left top, #d16ba5, #c777b9, #ba83ca, #aa8fd8, #9a9ae1, #8aa7ec, #79b3f4, #69bff8, #52cffe, #41dfff, #46eefa, #5ffbf1) !important\",\r\n\r\n      \"& img\": {\r\n        transform: \"translate(-40px, -50%)\",\r\n        opacity: 1,\r\n      },\r\n\r\n      \"& .gg\": {\r\n        transform: \"translate(-15px, -50%)\",\r\n        color: \"#DB4437\",\r\n      },\r\n\r\n      \"& .fb\": {\r\n        transform: \"translate(-15px, -50%)\",\r\n        color: \"#4267B2\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst SigninPage = () => {\r\n  const classes = useStyles();\r\n\r\n  const signinWithGG = () => {\r\n    firebaseAuth\r\n      .signInWithPopup(providerGG)\r\n      .then((result) => {})\r\n      .catch((error) => {\r\n        alert(\"Đăng nhập bằng Google không thành công!\\n\" + error);\r\n      });\r\n  };\r\n\r\n  const signinWithFB = () => {\r\n    firebaseAuth\r\n      .signInWithPopup(providerFB)\r\n      .then((result) => {})\r\n      .catch((error) => {\r\n        if (error.credential) {\r\n          alert(\r\n            \"Email của bạn đã đăng nhập bằng Google. Hãy dùng tài khoản Google của bạn để đăng nhập!\"\r\n          );\r\n        } else {\r\n          alert(\"Đăng nhập bằng Facebook không thành công!\\n\" + error);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.container}>\r\n        <div className={classes.flex}>\r\n          <div className={classes.logo}>\r\n            <AcUnitIcon />\r\n          </div>\r\n\r\n          <Typography variant=\"subtitle1\">Sổ tay từ vựng tiếng Anh</Typography>\r\n\r\n          <Typography variant=\"h6\">Đăng nhập</Typography>\r\n\r\n          <div\r\n            className={classes.button}\r\n            style={{ background: \"#DB4437\" }}\r\n            onClick={() => signinWithGG()}\r\n          >\r\n            <img src={ggLogo} alt=\"Google Logo\" />\r\n            <span className=\"gg\">Google</span>\r\n          </div>\r\n\r\n          <Typography variant=\"h6\">hoặc</Typography>\r\n\r\n          <div\r\n            className={classes.button}\r\n            style={{ background: \"#4267B2\" }}\r\n            onClick={() => signinWithFB()}\r\n          >\r\n            <img src={fbLogo} alt=\"Facebook Logo\" />\r\n            <span className=\"fb\">Facebook</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SigninPage;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const userSlice = createSlice({\r\n    name: 'user',\r\n    initialState: {\r\n        user: null,\r\n    },\r\n    reducers: {\r\n        getUser: (state, action) => {\r\n            state.user = { ...action.payload }\r\n        },\r\n        removeUser: state => {\r\n            state.user = null\r\n        },\r\n        addDataUser: (state, action) => {\r\n            state.user = { ...state.user, data: { ...action.payload } }\r\n        },\r\n        addTopicsList: (state, action) => {\r\n            state.user = { ...state.user, topicsList: action.payload }\r\n        }\r\n    },\r\n});\r\n\r\nexport const { getUser, removeUser, addDataUser, addTopicsList } = userSlice.actions;\r\n\r\nexport const selectUser = state => state.user.user;\r\n\r\nexport default userSlice.reducer;","import { useEffect, useState } from \"react\";\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  CartesianGrid,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n} from \"recharts\";\r\n\r\nconst Chart = ({ width, height, data }) => {\r\n  const [dataChart, setDataChart] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // biến đổi mảng đối tượng thành kiểu dữ liệu của chart ({name: value, minutes: value})\r\n    const temp = data.reduce((arr, cur, index) => {\r\n      const name = index > 5 ? \"CN\" : `T${index + 2}`;\r\n      let minutes = 0;\r\n\r\n      if (typeof cur !== \"number\") minutes = cur.minutes;\r\n      arr.push({ name, minutes });\r\n      return arr;\r\n    }, []);\r\n\r\n    setDataChart(temp);\r\n  }, []);\r\n\r\n  return (\r\n    <LineChart\r\n      width={width}\r\n      height={height}\r\n      data={dataChart}\r\n      margin={{ top: 20, right: 0, bottom: 0, left: 0 }}\r\n    >\r\n      <Line type=\"monotone\" dataKey=\"minutes\" stroke=\"#8fb339\" />\r\n      <CartesianGrid stroke=\"#ccc\" strokeDasharray=\"5 5\" />\r\n      <XAxis dataKey=\"name\" />\r\n      <YAxis />\r\n      <Tooltip />\r\n    </LineChart>\r\n  );\r\n};\r\n\r\nexport default Chart;\r\n","import {\r\n  Avatar,\r\n  Button,\r\n  Fab,\r\n  Grid,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, withStyles } from \"@material-ui/styles\";\r\nimport EmailSharpIcon from \"@material-ui/icons/EmailSharp\";\r\nimport StarSharpIcon from \"@material-ui/icons/StarSharp\";\r\nimport TranslateSharpIcon from \"@material-ui/icons/TranslateSharp\";\r\nimport ViewListSharpIcon from \"@material-ui/icons/ViewListSharp\";\r\nimport CloseOutlinedIcon from \"@material-ui/icons/CloseOutlined\";\r\nimport Chart from \"./Chart\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { firebaseAuth } from \"../firebase\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { selectUser, removeUser } from \"../features/user/UserSlice\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: \"#042A2B\",\r\n    zIndex: 1000,\r\n    padding: `0 ${theme.spacing(1)}px`,\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    position: \"relative\",\r\n    top: \"50%\",\r\n    transform: \"translateY(-50%)\",\r\n\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  left: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100%\",\r\n    alignSelf: \"flex-start\",\r\n    paddingRight: theme.spacing(2),\r\n\r\n    \"& .MuiAvatar-root\": {\r\n      height: 115,\r\n      width: 115,\r\n      border: `3px solid ${theme.palette.primary.main}`,\r\n      borderRadius: 0,\r\n\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        height: 100,\r\n        width: 100,\r\n      },\r\n    },\r\n\r\n    \"& .MuiButton-root\": {\r\n      background: theme.palette.primary.main,\r\n      textTransform: \"capitalize \",\r\n      color: \"#fff\",\r\n      width: \"100%\",\r\n      borderRadius: 0,\r\n      paddingTop: theme.spacing(1),\r\n\r\n      \"&:hover\": {\r\n        opacity: 0.9,\r\n      },\r\n    },\r\n\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: 0,\r\n      alignSelf: \"center\",\r\n      marginBottom: theme.spacing(1),\r\n    },\r\n  },\r\n  right: {\r\n    flex: 1,\r\n    alignSelf: \"flex-start\",\r\n    borderLeft: `3px solid ${theme.palette.primary.main}`,\r\n\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      border: \"none\",\r\n      alignSelf: \"center\",\r\n    },\r\n  },\r\n  header: {\r\n    padding: \"0px 5px 5px\",\r\n    textAlign: \"center\",\r\n    borderBottom: `1px solid ${theme.palette.primary.main}`,\r\n    margin: 5,\r\n\r\n    \"& .MuiTypography-h6\": {\r\n      fontSize: \"1rem\",\r\n      lineHeight: 1.2,\r\n      color: theme.palette.primary.main,\r\n    },\r\n\r\n    \"& .MuiTypography-body1\": {\r\n      fontSize: \".8rem\",\r\n      color: \"#ccc\",\r\n    },\r\n  },\r\n  contentDetail: {},\r\n  row: {\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    padding: \"2px 10px\",\r\n    cursor: \"default\",\r\n    borderRadius: 100,\r\n    background: \"#67697C\",\r\n    margin: \"5px 0 5px 18px\",\r\n\r\n    \"& .MuiSvgIcon-root\": {\r\n      fill: theme.palette.primary.main,\r\n      marginRight: theme.spacing(1),\r\n    },\r\n\r\n    \"& .MuiTypography-body1\": {\r\n      color: \"#ccc\",\r\n    },\r\n  },\r\n  containerChart: {\r\n    \"& .MuiTypography-root\": {\r\n      color: theme.palette.primary.main,\r\n      padding: \"10px 0 0 20px\",\r\n\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        textAlign: \"center\",\r\n      },\r\n    },\r\n\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n  },\r\n  fixedIcon: {\r\n    position: \"fixed\",\r\n    top: theme.spacing(1.5),\r\n    right: theme.spacing(1.5),\r\n    borderRadius: 0,\r\n    height: 35,\r\n    width: 35,\r\n\r\n    \"& .MuiSvgIcon-root\": {\r\n      fontSize: \"2em\",\r\n      width: \"1em\",\r\n      height: \"1em\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst LightTooltip = withStyles((theme) => ({\r\n  tooltip: {\r\n    backgroundColor: theme.palette.common.white,\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    boxShadow: theme.shadows[1],\r\n    fontSize: 11,\r\n  },\r\n}))(Tooltip);\r\n\r\nconst Details = ({ setIsOpenDetail }) => {\r\n  const classes = useStyles();\r\n  const [widthChart, setWidthChart] = useState();\r\n  const width = useRef();\r\n  const left = useRef();\r\n  const user = useSelector(selectUser);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  function handleResize() {\r\n    setWidthChart(width.current?.offsetWidth - left.current?.offsetWidth - 2);\r\n  }\r\n\r\n  window.addEventListener(\"resize\", handleResize);\r\n\r\n  useEffect(() => {\r\n    setWidthChart(width.current.offsetWidth - left.current.offsetWidth);\r\n    return window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  // xử lý đăng xuất\r\n  const handleSignout = () => {\r\n    dispatch(removeUser());\r\n    firebaseAuth.signOut();\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <Grid className={classes.root} container>\r\n      <Grid item xs={false} sm={1} md={3}></Grid>\r\n      <Grid item xs={12} sm={10} md={6} ref={width}>\r\n        <div className={classes.container}>\r\n          <div className={classes.left} ref={left}>\r\n            <Avatar src={user.avatar} alt=\"avatar\" />\r\n\r\n            <Button onClick={() => handleSignout()}>Đăng xuất</Button>\r\n          </div>\r\n\r\n          <div className={classes.right}>\r\n            <div className={classes.header}>\r\n              <Typography variant=\"h6\">{`Chào ${user.name}!`}</Typography>\r\n              <Typography component=\"p\">\r\n                Hãy xem một số thống kê của bạn\r\n              </Typography>\r\n            </div>\r\n\r\n            <div className={classes.contentDetail}>\r\n              <LightTooltip title=\"Email của bạn\" placement=\"left\">\r\n                <div className={classes.row}>\r\n                  <EmailSharpIcon />\r\n                  <Typography component=\"span\">{user.email}</Typography>\r\n                </div>\r\n              </LightTooltip>\r\n              <br />\r\n\r\n              <LightTooltip title=\"Tổng số sao\" placement=\"left\">\r\n                <div className={classes.row}>\r\n                  <StarSharpIcon />\r\n                  <Typography component=\"span\">{user.data.score}</Typography>\r\n                </div>\r\n              </LightTooltip>\r\n              <br />\r\n\r\n              <LightTooltip title=\"Tổng số chủ đề\" placement=\"left\">\r\n                <div className={classes.row}>\r\n                  <ViewListSharpIcon />\r\n                  <Typography component=\"span\">\r\n                    {user.data.countTopic}\r\n                  </Typography>\r\n                </div>\r\n              </LightTooltip>\r\n              <br />\r\n\r\n              <LightTooltip title=\"Tổng số từ vựng\" placement=\"left\">\r\n                <div className={classes.row}>\r\n                  <TranslateSharpIcon />\r\n                  <Typography component=\"span\">\r\n                    {user.data.countVocab}\r\n                  </Typography>\r\n                </div>\r\n              </LightTooltip>\r\n\r\n              <div className={classes.containerChart}>\r\n                <Typography component=\"p\">\r\n                  Bảng thống kê số giờ học trong tuần\r\n                </Typography>\r\n                <Chart\r\n                  width={widthChart}\r\n                  height={widthChart / 2}\r\n                  data={user.data.onlinedTime}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Fab\r\n          className={classes.fixedIcon}\r\n          color=\"primary\"\r\n          aria-label=\"add\"\r\n          onClick={() => setIsOpenDetail(false)}\r\n        >\r\n          <CloseOutlinedIcon />\r\n        </Fab>\r\n      </Grid>\r\n      <Grid item xs={false} sm={1} md={3}></Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Details;\r\n","import { Avatar, FormHelperText, Switch } from \"@material-ui/core\";\r\nimport Brightness4RoundedIcon from \"@material-ui/icons/Brightness4Rounded\";\r\nimport Brightness7RoundedIcon from \"@material-ui/icons/Brightness7Rounded\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport ArrowDropDownSharpIcon from \"@material-ui/icons/ArrowDropDownSharp\";\r\nimport SignalCellular4BarIcon from \"@material-ui/icons/SignalCellular4Bar\";\r\nimport Details from \"./Details\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeStatus, selectStatus } from \"../features/darkmode/DarkModeSlice\";\r\nimport { selectUser } from \"../features/user/UserSlice\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    height: 55,\r\n    padding: `0 ${theme.spacing(2)}px`,\r\n    background: theme.palette.primary.main,\r\n    boxShadow: theme.shadows[2],\r\n    zIndex: 1000,\r\n  },\r\n  items: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  switch: {\r\n    \"& .MuiSwitch-switchBase\": {\r\n      top: \"-3.5px\",\r\n    },\r\n    \"& .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track\": {\r\n      backgroundColor: \"#d9cac6\",\r\n    },\r\n    \"& .MuiSwitch-switchBase.Mui-checked\": {\r\n      transform: \"translateX(15px)\",\r\n    },\r\n    \"& .MuiSvgIcon-root\": {\r\n      fill: \"#efb815\",\r\n      fontSize: \"1.7rem\",\r\n    },\r\n    \"& .Mui-checked .MuiSvgIcon-root\": {\r\n      fill: \"#221e1f\",\r\n    },\r\n  },\r\n  avatar: {\r\n    height: \"36px\",\r\n    width: \"36px\",\r\n    marginLeft: \"15px\",\r\n    cursor: \"pointer\",\r\n    border: \"1px solid black\",\r\n\r\n    \"&:hover\": {\r\n      boxShadow: \"0 0 1px 7px rgba(0,0,0,0.05)\",\r\n    },\r\n  },\r\n  more: {\r\n    position: \"absolute\",\r\n    top: \"120%\",\r\n    right: 4,\r\n    width: 201,\r\n    height: 300,\r\n    background: \"grey\",\r\n    zIndex: 100,\r\n  },\r\n}));\r\n\r\nconst Nav = () => {\r\n  const classes = useStyles();\r\n  const [isOpenDetail, setIsOpenDetail] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(selectUser);\r\n  const isDarkMode = useSelector(selectStatus);\r\n\r\n  return (\r\n    <>\r\n      <nav className={classes.root}>\r\n        <div className={classes.items}>\r\n          <Switch\r\n            className={classes.switch}\r\n            icon={<Brightness7RoundedIcon />}\r\n            checked={isDarkMode}\r\n            checkedIcon={<Brightness4RoundedIcon />}\r\n            size=\"medium\"\r\n            inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n            onChange={() => {\r\n              dispatch(changeStatus());\r\n              localStorage.setItem(\"isDarkMode\", JSON.stringify(!isDarkMode));\r\n            }}\r\n          />\r\n\r\n          <Avatar\r\n            className={classes.avatar}\r\n            src={user.avatar}\r\n            alt=\"Avatar\"\r\n            onClick={() => setIsOpenDetail(true)}\r\n          />\r\n        </div>\r\n      </nav>\r\n      {isOpenDetail && <Details setIsOpenDetail={setIsOpenDetail} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    \"& .MuiDialogContent-root\": {\r\n      overflowY: \"hidden\",\r\n    },\r\n\r\n    \"& .MuiDialog-paper\": {\r\n      margin: 8,\r\n    },\r\n  },\r\n});\r\n\r\nconst CustomDialog = (props) => {\r\n  const {\r\n    open,\r\n    handleClose,\r\n    title,\r\n    content,\r\n    cancel,\r\n    agree,\r\n    colorTitle = \"transparent\",\r\n    eventAgree,\r\n    eventCancel,\r\n    isMutiple = false,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dialog\r\n      className={classes.root}\r\n      open={open}\r\n      onClose={() => {\r\n        handleClose(false);\r\n        eventCancel();\r\n      }}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle\r\n        id=\"alert-dialog-title\"\r\n        style={{ background: `${colorTitle}` }}\r\n      >\r\n        {title}\r\n      </DialogTitle>\r\n      <DialogContent>{content}</DialogContent>\r\n      <DialogActions>\r\n        {cancel && (\r\n          <Button\r\n            onClick={() => {\r\n              handleClose(false);\r\n              eventCancel();\r\n            }}\r\n            color=\"primary\"\r\n          >\r\n            {cancel}\r\n          </Button>\r\n        )}\r\n        <Button\r\n          onClick={() => {\r\n            handleClose(isMutiple);\r\n            eventAgree();\r\n          }}\r\n          color=\"primary\"\r\n          autoFocus\r\n        >\r\n          {agree}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default CustomDialog;\r\n","import { CirclePicker } from \"react-color\";\r\n\r\nconst ColorPicker = ({ setBackground }) => {\r\n  return (\r\n    <CirclePicker\r\n      width=\"300px\"\r\n      onChangeComplete={(color) => setBackground(color.hex)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ColorPicker;\r\n","import CustomDialog from \"./CustomDialog\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { useEffect, useState } from \"react\";\r\nimport ColorPicker from \"./ColorPicker\";\r\nimport { TextField } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  row: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginTop: theme.spacing(2),\r\n\r\n    \"& .label\": {\r\n      flex: \"110px\",\r\n      fontSize: 15,\r\n    },\r\n  },\r\n  textField: {\r\n    \"& .MuiOutlinedInput-input\": {\r\n      padding: \"10px 14px\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst CreateTopic = (props) => {\r\n  const {\r\n    title,\r\n    backgroundP,\r\n    isOpen,\r\n    setIsOpen,\r\n    handleCreateTopic,\r\n    isEdit,\r\n  } = props;\r\n  const [topic, setTopic] = useState(\"\");\r\n  const [background, setBackground] = useState(\"transparent\");\r\n\r\n  const createTopic = () => {\r\n    if (background === \"transparent\" || topic === \"\") {\r\n      setIsOpen(true);\r\n      alert(\"Tiêu đề và màu nền là trường bắt buộc!\");\r\n    } else {\r\n      handleCreateTopic(topic, background);\r\n      setInitialValue();\r\n    }\r\n  };\r\n\r\n  const setInitialValue = () => {\r\n    setTopic(title ? title : \"\");\r\n    setBackground(backgroundP ? backgroundP : \"transparent\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isEdit) {\r\n      setTopic(title);\r\n      setBackground(backgroundP);\r\n    }\r\n  }, [title, backgroundP]);\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={isOpen}\r\n      handleClose={setIsOpen}\r\n      title={\"Tạo chủ đề\"}\r\n      content={\r\n        <CustomDialogContent\r\n          topic={topic}\r\n          setTopic={setTopic}\r\n          setBackground={setBackground}\r\n        />\r\n      }\r\n      cancel={\"Hủy\"}\r\n      agree={\"Tạo\"}\r\n      eventAgree={createTopic}\r\n      eventCancel={setInitialValue}\r\n      colorTitle={background}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CreateTopic;\r\n\r\n// tạo phần nội dung của component CustomDialog\r\nconst CustomDialogContent = ({ topic, setTopic, setBackground }) => {\r\n  const classes = useStyles();\r\n\r\n  const onChange = (e) => {\r\n    setTopic(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.row}>\r\n        <div className=\"label\">Tên chủ đề:</div>\r\n        <TextField\r\n          className={classes.textField}\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          value={topic}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n      <div className={classes.row}>\r\n        <div className=\"label\">Màu nền:</div>\r\n        <ColorPicker setBackground={setBackground} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import {\r\n  Button,\r\n  Card,\r\n  CardActionArea,\r\n  CardActions,\r\n  CardContent,\r\n  makeStyles,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\r\nimport CreateTopic from \"./CreateTopic\";\r\nimport { firebaseStore, decrement } from \"../firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../features/user/UserSlice\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    maxWidth: \"380px\",\r\n    margin: \"auto\",\r\n    borderRadius: 0,\r\n    boxShadow: theme.shadows[1],\r\n\r\n    \"& .MuiCardContent-root\": {\r\n      padding: \"0 0 16px 0\",\r\n    },\r\n\r\n    \"& .MuiTypography-body1\": {\r\n      marginLeft: \"auto\",\r\n      marginRight: \"10px\",\r\n      background: \"#8FB339\",\r\n      padding: \"0 10px\",\r\n      borderRadius: \"15px\",\r\n      minWidth: 40,\r\n      textAlign: \"center\",\r\n    },\r\n\r\n    \"& .MuiTypography-h5\": {\r\n      color: theme.palette.text.primary,\r\n    },\r\n\r\n    \"& .MuiButton-root\": {\r\n      minWidth: 60,\r\n    },\r\n  },\r\n}));\r\n\r\nconst Topic = ({\r\n  id,\r\n  title,\r\n  content,\r\n  background,\r\n  isForgetful = false,\r\n  setDataPrint,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [isOpenCreateTopic, setIsOpenCreateTopic] = useState(false);\r\n  const user = useSelector(selectUser);\r\n  const history = useHistory();\r\n  const db = firebaseStore.collection(\"accounts\").doc(user.email);\r\n\r\n  const [countVocab, setCountVocab] = useState(0);\r\n  const arrVocab = content ? [...content] : [];\r\n  arrVocab.sort(() => Math.random() - 0.5); // trộn phần từ của mảng\r\n\r\n  // xử lý xóa chủ đề\r\n  const hanleRemoveTopic = () => {\r\n    db.collection(\"topicsList\")\r\n      .doc(id)\r\n      .delete()\r\n      .then(() =>\r\n        db.update({\r\n          countTopic: decrement,\r\n        })\r\n      )\r\n      .catch((err) => alert(\"Xảy ra lỗi trong quá trình xóa dữ liệu\\n\", err));\r\n  };\r\n\r\n  // xử lý chỉnh sửa chủ đề\r\n  const handleEditTopic = (topic, background) => {\r\n    db.collection(\"topicsList\")\r\n      .doc(id)\r\n      .update({\r\n        topic,\r\n        background,\r\n      })\r\n      .catch((err) => alert(\"Xảy ra lỗi trong quá trình cập nhật\\n\", err));\r\n  };\r\n\r\n  // truyền dữ liệu xử lý in danh sách từ vựng\r\n  const handlePrint = () => {\r\n    setDataPrint(content);\r\n  };\r\n\r\n  // chuyển hướng vào trong topic list\r\n  const onClickDirect = () => {\r\n    history.push(`/topic/${id}`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getCountVocab = async () => {\r\n      const reponse = await db.collection(\"topicsList\").doc(id).get();\r\n\r\n      reponse.exists && setCountVocab(reponse.data().countVocab);\r\n    };\r\n\r\n    !isForgetful && getCountVocab();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Card\r\n        className={classes.root}\r\n        style={{\r\n          background: isForgetful ? `${background}75` : `${background}25`,\r\n          boxShadow: isForgetful && \"3px 3px 5px rgba(0,0,0,0.5)\",\r\n        }}\r\n      >\r\n        <CardActionArea onClick={onClickDirect}>\r\n          <CardContent>\r\n            <Typography\r\n              gutterBottom\r\n              variant=\"h5\"\r\n              component=\"h2\"\r\n              style={{\r\n                background: `${background}`,\r\n                width: \"100%\",\r\n                padding: \"12px 16px 5px 16px\",\r\n                textTransform: \"capitalize\",\r\n              }}\r\n            >\r\n              {title}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body2\"\r\n              color=\"textSecondary\"\r\n              component=\"p\"\r\n              style={{ padding: \"0px 16px\", opacity: \".7\", minHeight: \"50px\" }}\r\n            >\r\n              {content && content.length > 0 ? (\r\n                <ul style={{ listStyleType: \"none\" }}>\r\n                  {content.slice(0, 8).map((sub, index) => {\r\n                    return (\r\n                      <li\r\n                        key={index}\r\n                      >{`${sub.en.toLowerCase()}: ${sub.vi.toLowerCase()}`}</li>\r\n                    );\r\n                  })}\r\n                </ul>\r\n              ) : (\r\n                \"Chủ đề này chưa có từ vựng. Hãy thêm từ vựng vào nhé!\"\r\n              )}\r\n            </Typography>\r\n          </CardContent>\r\n        </CardActionArea>\r\n        <CardActions>\r\n          {!isForgetful && (\r\n            <>\r\n              <Button\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                onClick={() => setIsOpenCreateTopic(true)}\r\n              >\r\n                <Tooltip title=\"Chỉnh sửa\" arrow>\r\n                  <EditIcon />\r\n                </Tooltip>\r\n              </Button>\r\n\r\n              <Button size=\"small\" color=\"primary\" onClick={hanleRemoveTopic}>\r\n                <Tooltip title=\"Xóa\" arrow>\r\n                  <DeleteIcon />\r\n                </Tooltip>\r\n              </Button>\r\n            </>\r\n          )}\r\n\r\n          <Button size=\"small\" color=\"primary\" onClick={handlePrint}>\r\n            <Tooltip title=\"Xuất danh sách\" arrow>\r\n              <ReceiptIcon />\r\n            </Tooltip>\r\n          </Button>\r\n\r\n          <Typography\r\n            component=\"p\"\r\n            color={countVocab >= 49 ? \"#ec2929\" : \"initial\"}\r\n          >\r\n            {isForgetful\r\n              ? ` ${user.data.forgetful.countVocab} `\r\n              : `${countVocab}/50`}\r\n          </Typography>\r\n        </CardActions>\r\n      </Card>\r\n\r\n      <CreateTopic\r\n        isOpen={isOpenCreateTopic}\r\n        setIsOpen={setIsOpenCreateTopic}\r\n        title={title}\r\n        backgroundP={background}\r\n        handleCreateTopic={handleEditTopic}\r\n        isEdit={true}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Topic;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { makeStyles, Tooltip, Typography } from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ShuffleIcon from \"@material-ui/icons/Shuffle\";\r\nimport LowPriorityIcon from \"@material-ui/icons/LowPriority\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport SortByAlphaIcon from \"@material-ui/icons/SortByAlpha\";\r\nimport SortIcon from \"@material-ui/icons/Sort\";\r\nimport ArrowDropUpIcon from \"@material-ui/icons/ArrowDropUp\";\r\nimport HourglassEmptyIcon from \"@material-ui/icons/HourglassEmpty\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: \"fixed\",\r\n    right: theme.spacing(4),\r\n    bottom: theme.spacing(4),\r\n\r\n    \"& .MuiSvgIcon-root\": {\r\n      background: \"transparent\",\r\n      fill: \"#03312E\",\r\n      width: 30,\r\n      height: 30,\r\n      cursor: \"pointer\",\r\n      transition: \".4s\",\r\n    },\r\n  },\r\n  menuToggle: {\r\n    position: \"absolute\",\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    background: \"linear-gradient(45deg, #8fb339 ,  #a8e063 )\",\r\n    zIndex: 5,\r\n    right: 0,\r\n    bottom: 0,\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: \"50%\",\r\n    boxShadow: \"0 0 10px rgba(0, 0, 0, 0.5)\",\r\n    zIndex: 5,\r\n    cursor: \"pointer\",\r\n    transition: \".3s\",\r\n\r\n    \"&:hover\": {\r\n      transform: \"scale(1.04)\",\r\n      transition: \".3s\",\r\n    },\r\n\r\n    \"&.open .MuiSvgIcon-root\": {\r\n      transform: \"rotate(225deg)\",\r\n    },\r\n  },\r\n  menuRound: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 0,\r\n    zIndex: 3,\r\n\r\n    \"&.open div:nth-of-type(1)\": {\r\n      right: 0,\r\n      bottom: \"4.5em\",\r\n      transitionDelay: \"0.2s\",\r\n    },\r\n\r\n    \"&.open div:nth-of-type(2)\": {\r\n      right: \"3.25em\",\r\n      bottom: \"3.25em\",\r\n      transitionDelay: \"0.1s\",\r\n    },\r\n\r\n    \"&.open div:nth-of-type(3)\": {\r\n      right: \"4.5em\",\r\n      bottom: 0,\r\n    },\r\n  },\r\n  btnApp: {\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    position: \"absolute\",\r\n    width: 40,\r\n    height: 40,\r\n    bottom: \"0.5em\",\r\n    right: \"0.5em\",\r\n    transition: \"0.4s\",\r\n    background: \"linear-gradient(45deg, #8fb339 ,  #a8e063 )\",\r\n    borderRadius: \"50%\",\r\n    boxShadow: \"2px 2px 1px 1px rgba(0, 0, 0, 0.2)\",\r\n    cursor: \"pointer\",\r\n\r\n    \"&:hover\": {\r\n      opacity: \"0.8\",\r\n      transform: \"scale(1.08)\",\r\n    },\r\n\r\n    \"& .MuiSvgIcon-root\": {\r\n      width: 20,\r\n      height: 20,\r\n    },\r\n  },\r\n  menuLine: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 0,\r\n    zIndex: 2,\r\n\r\n    \"& .sort\": {\r\n      background: \"linear-gradient(45deg, #2193b0, #6dd5ed)\",\r\n    },\r\n\r\n    \"&.open .searchTool\": {\r\n      right: \"0rem\",\r\n      bottom: \"7.7rem\",\r\n      transitionDelay: \"0.3s\",\r\n    },\r\n\r\n    \"&.open .sort:nth-of-type(2)\": {\r\n      right: \"0rem\",\r\n      bottom: \"10.8rem\",\r\n      transitionDelay: \"0.35s\",\r\n    },\r\n\r\n    \"&.open .sort:nth-of-type(3)\": {\r\n      right: \"0rem\",\r\n      bottom: \"13.9rem\",\r\n      transitionDelay: \"0.4s\",\r\n    },\r\n\r\n    \"&.open .sort:nth-of-type(4)\": {\r\n      right: \"0rem\",\r\n      bottom: \"17rem\",\r\n      transitionDelay: \"0.45s\",\r\n    },\r\n    \"&.open span\": {\r\n      opacity: 1,\r\n      transition: \"opacity .5s\",\r\n      transitionDelay: \".5s\",\r\n    },\r\n  },\r\n\r\n  searchField: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    position: \"absolute\",\r\n    bottom: \"0.5em\",\r\n    right: \"0.5em\",\r\n    transition: \"0.4s\",\r\n\r\n    \"& input\": {\r\n      marginRight: -25,\r\n      height: 30,\r\n      width: 0,\r\n      padding: 0,\r\n      color: \"#777\",\r\n      background: \"#6dd5ed\",\r\n      fontSize: 13,\r\n      fontWeight: 600,\r\n      borderRadius: 100,\r\n      border: \"2px solid transparent\",\r\n      outline: \"none\",\r\n      zIndex: 0,\r\n      transition: \".4s ease-out\",\r\n    },\r\n\r\n    \"&.open input\": {\r\n      border: `2px solid #6dd5ed`,\r\n      width: 200,\r\n      padding: \"2px 30px 2px 15px\",\r\n      transition: \".4s ease-out\",\r\n    },\r\n\r\n    \"&.open .icon\": {\r\n      boxShadow: \"0 0 10px rgba(0, 0, 0, 0.5) !important\",\r\n      transform: \"scale(1.08) !important\",\r\n    },\r\n  },\r\n\r\n  searchIcon: {\r\n    zIndex: 1,\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    width: 40,\r\n    height: 40,\r\n    background: \"linear-gradient(45deg, #2193b0, #6dd5ed)\",\r\n    borderRadius: \"50%\",\r\n    boxShadow: \"2px 2px 1px 1px rgba(0, 0, 0, 0.2)\",\r\n    cursor: \"pointer\",\r\n    transition: \"0.4s\",\r\n\r\n    \"& .MuiSvgIcon-root\": {\r\n      width: 20,\r\n      height: 20,\r\n    },\r\n\r\n    \"&:hover\": {\r\n      transform: \"scale(1.08)\",\r\n    },\r\n  },\r\n  order: {\r\n    position: \"absolute\",\r\n    opacity: 0,\r\n\r\n    \"& .MuiSvgIcon-root\": {\r\n      fill: theme.palette.text.primary,\r\n    },\r\n  },\r\n}));\r\n\r\nconst Tools = (props) => {\r\n  const {\r\n    setIsOpen,\r\n    dataFinding,\r\n    setDataFinding,\r\n    setValueSort,\r\n    isVocab = false,\r\n    handleTest,\r\n    isTopic = false,\r\n  } = props;\r\n  const classes = useStyles();\r\n  const menuToggle = useRef();\r\n  const [order, setOrder] = useState(null);\r\n\r\n  const menuRound = useRef();\r\n  const menuLine = useRef();\r\n  const searchField = useRef();\r\n\r\n  let timeout; // dùng để clear setTimeout\r\n\r\n  // Đóng/Mở các công cụ\r\n  const handleOpen = () => {\r\n    const checkOpen = searchField.current.classList.value.includes(\"open\");\r\n    let delay = checkOpen ? 500 : 0;\r\n    checkOpen && searchField.current.classList.remove(\"open\");\r\n\r\n    timeout = setTimeout(() => {\r\n      menuToggle.current.classList.toggle(\"open\");\r\n      menuRound.current.classList.toggle(\"open\");\r\n      menuLine.current.classList.toggle(\"open\");\r\n    }, delay);\r\n  };\r\n\r\n  // Mở trường tìm kiếm\r\n  const openField = () => {\r\n    searchField.current.classList.toggle(\"open\");\r\n  };\r\n\r\n  const handleOrder = (order) => {\r\n    setOrder((old) => {\r\n      if (old === null) return { order, column: \"asc\" };\r\n      if (old.order === order) {\r\n        if (old.column === \"asc\") return { ...old, column: \"des\" };\r\n        return null;\r\n      } else return { order, column: \"asc\" };\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    return clearTimeout(timeout);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setValueSort(order);\r\n  }, [order]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.menuToggle} ref={menuToggle} onClick={handleOpen}>\r\n        <MenuIcon />\r\n      </div>\r\n      <div className={classes.menuRound} ref={menuRound}>\r\n        <div className={classes.btnApp} onClick={() => handleTest(\"type1\")}>\r\n          <Tooltip\r\n            title={\r\n              <>\r\n                <Typography>Kiểm tra từ vựng</Typography>\r\n                <p>\r\n                  {isTopic\r\n                    ? \"Kiểm tra tất cả theo mức độ hay quên\"\r\n                    : \"Kiểm tra tất cả từng vựng\"}\r\n                </p>\r\n              </>\r\n            }\r\n          >\r\n            <LowPriorityIcon />\r\n          </Tooltip>\r\n        </div>\r\n\r\n        <div className={classes.btnApp} onClick={() => handleTest(\"type2\")}>\r\n          <Tooltip\r\n            title={\r\n              <>\r\n                <Typography>Kiểm tra từ vựng</Typography>\r\n                <p>Kiểm tra ngẫu nhiên tất cả từng vựng </p>\r\n              </>\r\n            }\r\n          >\r\n            <ShuffleIcon />\r\n          </Tooltip>\r\n        </div>\r\n\r\n        <div className={classes.btnApp} onClick={() => setIsOpen(true)}>\r\n          <Tooltip\r\n            title={\r\n              isTopic ? (\r\n                <>\r\n                  <Typography>Tạo chủ đề</Typography>\r\n                  <p>Từ vựng phải được đặt trong một chủ đề</p>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Typography>Tạo từ vựng</Typography>\r\n                  <p>Lưu từ vựng vào chủ đề</p>\r\n                </>\r\n              )\r\n            }\r\n          >\r\n            <AddIcon />\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.menuLine} ref={menuLine}>\r\n        <div className={`${classes.searchField} searchTool`} ref={searchField}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"nhập từ khóa\"\r\n            value={dataFinding}\r\n            onChange={(e) => setDataFinding(e.target.value)}\r\n          />\r\n          <div className={`${classes.searchIcon} icon`} onClick={openField}>\r\n            <Tooltip title=\"Tìm kiếm\">\r\n              <SearchIcon />\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className={`${classes.btnApp} sort`}\r\n          onClick={() => handleOrder(\"alphabet\")}\r\n        >\r\n          <Tooltip title=\"Sắp xếp theo ký tự\">\r\n            <SortByAlphaIcon />\r\n          </Tooltip>\r\n          {order && order.order === \"alphabet\" && (\r\n            <span\r\n              className={classes.order}\r\n              style={\r\n                order.column === \"asc\"\r\n                  ? { right: 26, top: -7, transform: \"rotate(-45deg)\" }\r\n                  : { right: 26, bottom: -7, transform: \"rotate(-135deg)\" }\r\n              }\r\n            >\r\n              <ArrowDropUpIcon />\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`${classes.btnApp} sort`}\r\n          onClick={() => handleOrder(\"date\")}\r\n        >\r\n          <Tooltip title=\"Sắp xếp theo thời gian tạo\">\r\n            <ScheduleIcon />\r\n          </Tooltip>\r\n          {order && order.order === \"date\" && (\r\n            <span\r\n              className={classes.order}\r\n              style={\r\n                order.column === \"asc\"\r\n                  ? { right: 26, top: -7, transform: \"rotate(-45deg)\" }\r\n                  : { right: 26, bottom: -7, transform: \"rotate(-135deg)\" }\r\n              }\r\n            >\r\n              <ArrowDropUpIcon />\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`${classes.btnApp} sort`}\r\n          onClick={() => handleOrder(\"quantity\")}\r\n        >\r\n          <Tooltip\r\n            title={\r\n              isVocab\r\n                ? \"Sắp xếp theo mức độ hay quên\"\r\n                : \"Sắp xếp theo số lượng từ\"\r\n            }\r\n          >\r\n            {isVocab ? <HourglassEmptyIcon /> : <SortIcon />}\r\n          </Tooltip>\r\n          {order && order.order === \"quantity\" && (\r\n            <span\r\n              className={classes.order}\r\n              style={\r\n                order.column === \"asc\"\r\n                  ? { right: 26, top: -7, transform: \"rotate(-45deg)\" }\r\n                  : { right: 26, bottom: -7, transform: \"rotate(-135deg)\" }\r\n              }\r\n            >\r\n              <ArrowDropUpIcon />\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tools;\r\n","export const findTopic = (arr, key, value) => {\r\n    return arr.filter(item => item[key].toUpperCase().includes(value.toUpperCase()))\r\n}\r\n\r\nexport const findVocab = (arr, key1, key2, value) => {\r\n    return arr.filter(item => item[key1].toUpperCase().includes(value.toUpperCase()) || item[key2].toUpperCase().includes(value.toUpperCase()))\r\n}\r\n","export const sortTopic = (arr, value) => {\r\n    const mapSort = (value) => {\r\n        switch (value) {\r\n            case 'alphabet':\r\n                return 'topic'\r\n            case 'date':\r\n                return 'dateCreated'\r\n            case 'quantity':\r\n                return 'countVocab'\r\n            default:\r\n                return value\r\n        }\r\n    }\r\n\r\n    if (value === null)\r\n        return arr;\r\n    const sort = mapSort(value.order);\r\n    const isAsc = value.column === 'asc' ? true : false;\r\n\r\n    return arr.sort((element1, element2) => {\r\n        const value1 = typeof (element1[sort]) === 'string' ? element1[sort].toUpperCase() : element1[sort];\r\n        const value2 = typeof (element2[sort]) === 'string' ? element2[sort].toUpperCase() : element2[sort];\r\n\r\n        if (value1 < value2) {\r\n            return isAsc ? -1 : 1;\r\n        }\r\n        if (value1 > value2) {\r\n            return isAsc ? 1 : -1;\r\n        }\r\n        return 0;\r\n    })\r\n}\r\n\r\nexport const sortVocab = (arr, value) => {\r\n    const mapSort = (value) => {\r\n        switch (value) {\r\n            case 'alphabet':\r\n                return 'en'\r\n            case 'date':\r\n                return 'dateCreated'\r\n            case 'quantity':\r\n                return 'scoreWrong'\r\n            default:\r\n                return value\r\n        }\r\n    }\r\n\r\n    if (value === null)\r\n        return arr;\r\n    const sort = mapSort(value.order);\r\n    const isAsc = value.column === 'asc' ? true : false;\r\n    return arr.sort((element1, element2) => {\r\n        const value1 = typeof (element1[sort]) === 'string' ? element1[sort].toUpperCase() : element1[sort];\r\n        const value2 = typeof (element2[sort]) === 'string' ? element2[sort].toUpperCase() : element2[sort];\r\n\r\n        if (value1 < value2) {\r\n            return isAsc ? -1 : 1;\r\n        }\r\n        if (value1 > value2) {\r\n            return isAsc ? 1 : -1;\r\n        }\r\n        return 0;\r\n    })\r\n}","import { Paper, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n  },\r\n  cover: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    background: \"rgba(0, 0, 0, 0.8)\",\r\n  },\r\n  paper: {\r\n    width: \"100%\",\r\n    maxWidth: 550,\r\n    height: \"100%\",\r\n    background: theme.palette.background.paper,\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: \"50%\",\r\n    transform: \"translateX(-50%)\",\r\n    borderRadius: 0,\r\n\r\n    \"& .MuiTypography-h6\": {\r\n      width: \"100%\",\r\n      textAlign: \"center\",\r\n    },\r\n\r\n    [theme.breakpoints.down(375)]: {\r\n      \"& .MuiTypography-h6\": {\r\n        fontSize: 18,\r\n      },\r\n    },\r\n  },\r\n  close: {\r\n    width: 30,\r\n    height: 30,\r\n    background: theme.palette.primary.main,\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    margin: \"0 0 0 auto\",\r\n    cursor: \"pointer\",\r\n    transition: \".4s ease-out\",\r\n\r\n    \"&:hover\": {\r\n      opacity: 0.8,\r\n    },\r\n\r\n    \"& .MuiSvgIcon-root\": {\r\n      fontSize: \"1.5rem\",\r\n    },\r\n\r\n    [theme.breakpoints.down(375)]: {\r\n      width: 25,\r\n      height: 25,\r\n      \"& .MuiSvgIcon-root\": {\r\n        fontSize: \"1.2rem\",\r\n      },\r\n    },\r\n  },\r\n  list: {\r\n    padding: \"0 20px 10px\",\r\n    listStyle: \"none\",\r\n    overflowY: \"scroll\",\r\n    height: \"calc(100% - 100px)\",\r\n    marginTop: 20,\r\n\r\n    \"&::-webkit-scrollbar-track\": {\r\n      boxShadow: \"inset 0 0 6px rgba(0,0,0,0.3)\",\r\n      borderRadius: 10,\r\n      background: \"#F5F5F5\",\r\n    },\r\n\r\n    \"&::-webkit-scrollbar\": {\r\n      width: 5,\r\n      background: \"#F5F5F5\",\r\n    },\r\n\r\n    \"&::-webkit-scrollbar-thumb\": {\r\n      borderRadius: 10,\r\n      boxShadow: \"inset 0 0 6px rgba(0,0,0,0.3)\",\r\n      background: theme.palette.primary.main,\r\n    },\r\n\r\n    \"& li\": {\r\n      padding: \"5px\",\r\n      marginBottom: 13,\r\n      borderBottom: \"1px solid #ccc\",\r\n    },\r\n\r\n    [theme.breakpoints.down(375)]: {\r\n      padding: \"0 10px 5px\",\r\n    },\r\n  },\r\n  en: {\r\n    fontWeight: 500,\r\n    textTransform: \"capitalize\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(375)]: {\r\n      fontSize: 14,\r\n    },\r\n  },\r\n  vi: {\r\n    textTransform: \"lowercase\",\r\n    [theme.breakpoints.down(375)]: {\r\n      fontSize: 14,\r\n    },\r\n  },\r\n}));\r\n\r\nconst Print = ({ dataPrint, setDataPrint }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.cover} onClick={() => setDataPrint(null)}></div>\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.close} onClick={() => setDataPrint(null)}>\r\n          <CloseIcon />\r\n        </div>\r\n\r\n        <Typography variant=\"h6\">Communication</Typography>\r\n\r\n        <ul className={classes.list}>\r\n          {dataPrint.map((element, index) => (\r\n            <>\r\n              <li>\r\n                <span className={classes.en}>{`${index + 1}. ${\r\n                  element.en\r\n                }:`}</span>\r\n                <span className={classes.vi}>{element.vi}</span>\r\n              </li>\r\n            </>\r\n          ))}\r\n        </ul>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Print;\r\n","import { Button, makeStyles, Tooltip, Typography } from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport ArrowRightAltIcon from \"@material-ui/icons/ArrowRightAlt\";\r\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\";\r\nimport PlaylistAddCheckIcon from \"@material-ui/icons/PlaylistAddCheck\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  wrapper: {\r\n    width: \"100%\",\r\n    padding: \"60px 35px\",\r\n\r\n    \"& .MuiTypography-h6\": {\r\n      width: \"100%\",\r\n      textAlign: \"center\",\r\n      marginBottom: 30,\r\n      fontSize: 18,\r\n    },\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n    marginBottom: 40,\r\n\r\n    \"& .title\": {\r\n      padding: \"2px 0\",\r\n      marginBottom: 5,\r\n      borderBottom: \"2px solid #ccc\",\r\n    },\r\n\r\n    \"& .option\": {\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n\r\n      \"& .item\": {\r\n        width: 35,\r\n        height: 35,\r\n        background: theme.palette.primary.main,\r\n        display: \"grid\",\r\n        placeItems: \"center\",\r\n        marginRight: 25,\r\n        cursor: \"pointer\",\r\n        opacity: 0.7,\r\n        transition: \".4s\",\r\n\r\n        \"&:hover\": {\r\n          opacity: 1,\r\n          transition: \".4s\",\r\n        },\r\n\r\n        \"& svg\": {\r\n          width: \"50%\",\r\n          height: \"50%\",\r\n        },\r\n      },\r\n    },\r\n  },\r\n  btn: {\r\n    background: theme.palette.primary.main,\r\n    width: \"100%\",\r\n    height: 55,\r\n    borderRadius: 0,\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    left: 0,\r\n    textTransform: \"capitalize\",\r\n    transition: \".4s\",\r\n\r\n    \"&:hover\": {\r\n      background: `${theme.palette.primary.main}da`,\r\n      transition: \".4s\",\r\n    },\r\n  },\r\n  close: {\r\n    width: 30,\r\n    height: 30,\r\n    background: theme.palette.primary.main,\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    position: \"absolute\",\r\n    right: 0,\r\n    top: 0,\r\n    cursor: \"pointer\",\r\n    transition: \".4s ease-out\",\r\n\r\n    \"&:hover\": {\r\n      opacity: 0.8,\r\n    },\r\n\r\n    \"& .MuiSvgIcon-root\": {\r\n      fontSize: \"1.5rem\",\r\n    },\r\n\r\n    [theme.breakpoints.down(375)]: {\r\n      width: 25,\r\n      height: 25,\r\n      \"& .MuiSvgIcon-root\": {\r\n        fontSize: \"1.2rem\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst ConfigTest = (props) => {\r\n  const { config, setConfig, setBeginTest, setOpenTest, amount } = props;\r\n  const classes = useStyles();\r\n\r\n  // lưu lại các lựa chọn\r\n  const onClick = (select, option) => {\r\n    setConfig({ ...config, [select]: option });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <div className={classes.close} onClick={() => setOpenTest(false)}>\r\n        <CloseIcon />\r\n      </div>\r\n      <Typography variant=\"h6\">Hãy thiết lập bài kiểm tra của bạn</Typography>\r\n      <div className={classes.select}>\r\n        <div className=\"title\">Chọn chế độ</div>\r\n\r\n        <div className=\"option\">\r\n          <Tooltip title=\"Điền vào chỗ trống\" arrow>\r\n            <div\r\n              className=\"item\"\r\n              style={{ opacity: config.mode === \"fill\" ? 1 : 0.7 }}\r\n              onClick={() => onClick(\"mode\", \"fill\")}\r\n            >\r\n              <BorderColorIcon />\r\n            </div>\r\n          </Tooltip>\r\n          <Tooltip title=\"Chọn đáp án đúng\" arrow>\r\n            <div\r\n              className=\"item\"\r\n              style={{ opacity: config.mode === \"quiz\" ? 1 : 0.7 }}\r\n              onClick={() => onClick(\"mode\", \"quiz\")}\r\n            >\r\n              <PlaylistAddCheckIcon />\r\n            </div>\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.select}>\r\n        <div className=\"title\">Chọn chiều phiên dịch</div>\r\n        <div className=\"option\">\r\n          <Tooltip title=\"EN --> VI\" arrow>\r\n            <div\r\n              className=\"item\"\r\n              style={{ opacity: config.direc === \"en\" ? 1 : 0.7 }}\r\n              onClick={() => onClick(\"direc\", \"en\")}\r\n            >\r\n              <ArrowForwardIcon />\r\n            </div>\r\n          </Tooltip>\r\n          <Tooltip title=\"VI --> EN\" arrow>\r\n            <div\r\n              className=\"item\"\r\n              style={{ opacity: config.direc === \"vi\" ? 1 : 0.7 }}\r\n              onClick={() => onClick(\"direc\", \"vi\")}\r\n            >\r\n              <ArrowBackIcon />\r\n            </div>\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.select}>\r\n        <div className=\"title\">Chọn số lượng từ</div>\r\n        <div className=\"option\">\r\n          <div\r\n            className=\"item\"\r\n            style={{ opacity: config.amount === 10 ? 1 : 0.7 }}\r\n            onClick={() => onClick(\"amount\", 10)}\r\n          >\r\n            10\r\n          </div>\r\n          {amount >= 15 && (\r\n            <div\r\n              className=\"item\"\r\n              style={{ opacity: config.amount === 15 ? 1 : 0.7 }}\r\n              onClick={() => onClick(\"amount\", 15)}\r\n            >\r\n              15\r\n            </div>\r\n          )}\r\n          {amount >= 20 && (\r\n            <div\r\n              className=\"item\"\r\n              style={{ opacity: config.amount === 20 ? 1 : 0.7 }}\r\n              onClick={() => onClick(\"amount\", 20)}\r\n            >\r\n              20\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Button className={classes.btn} onClick={() => setBeginTest(true)}>\r\n        Bắt đầu <ArrowRightAltIcon />\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfigTest;\r\n","import { Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { CountdownCircleTimer } from \"react-countdown-circle-timer\";\r\nimport Speech from \"react-speech\";\r\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { selectUser } from \"../features/user/UserSlice\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  countdown: {\r\n    position: \"absolute\",\r\n    top: 5,\r\n    left: 5,\r\n  },\r\n  current: {\r\n    position: \"absolute\",\r\n    right: 5,\r\n    top: 5,\r\n  },\r\n  container: {\r\n    width: \"100%\",\r\n    paddingTop: 80,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n\r\n    \"& .ques\": {\r\n      fontWeight: 600,\r\n      textDecoration: \"underline\",\r\n      fontSize: 19,\r\n      marginBottom: 5,\r\n      textTransform: \"capitalize\",\r\n    },\r\n\r\n    \"& .speaker\": {\r\n      width: 23,\r\n      height: 23,\r\n      position: \"relative\",\r\n\r\n      \"& svg\": {\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        cursor: \"pointer\",\r\n        transition: \".3s\",\r\n\r\n        \"&:hover\": {\r\n          fill: theme.palette.primary.main,\r\n          transition: \".3s\",\r\n        },\r\n      },\r\n\r\n      \"& button\": {\r\n        opacity: 0,\r\n      },\r\n    },\r\n\r\n    \"& .ans\": {\r\n      marginTop: 40,\r\n      marginBottom: 70,\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n\r\n      \"& input\": {\r\n        width: \"80%\",\r\n        height: 50,\r\n        outline: \"none\",\r\n        borderRadius: 10,\r\n        border: \"3px solid \" + theme.palette.primary.main,\r\n        padding: \"5px 15px\",\r\n        color: \"#666\",\r\n        fontSize: 16,\r\n\r\n        \"&::placeholder\": {\r\n          color: \"#888\",\r\n        },\r\n      },\r\n\r\n      \"& .select\": {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        flexWrap: \"wrap\",\r\n        width: \"100%\",\r\n\r\n        \"& .option\": {\r\n          flexBasis: \"60%\",\r\n          minWidth: \"50%\",\r\n          background: \"#ccc\",\r\n          marginBottom: 20,\r\n          cursor: \"pointer\",\r\n          fontWeight: 400,\r\n          textAlign: \"center\",\r\n          padding: \"13px 0\",\r\n          transition: \".4s\",\r\n          boxShadow: theme.shadows[4],\r\n\r\n          \"&:hover\": {\r\n            background: theme.palette.primary.main,\r\n          },\r\n        },\r\n      },\r\n    },\r\n\r\n    \"& .btnConfirm\": {\r\n      position: \"absolute\",\r\n      bottom: 0,\r\n      left: 0,\r\n      width: \"100%\",\r\n      fontWeight: 500,\r\n      padding: \"18px 0\",\r\n      fontSize: 17,\r\n      color: theme.palette.text.main,\r\n      background: theme.palette.primary.main,\r\n      border: \"none\",\r\n      cursor: \"pointer\",\r\n      boxShadow: theme.shadows[3],\r\n      transition: \".3s\",\r\n\r\n      \"&:hover\": {\r\n        background: theme.palette.primary.main + \"ac\",\r\n        transition: \".3s\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\n// hàm xóa dấu tiếng Việt, dùng cho chức năng so sánh 2 từ với nhau\r\nconst change_alias = (alias) => {\r\n  var str = alias.trim();\r\n  str = str.toLowerCase();\r\n  str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n  str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n  str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n  str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n  str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n  str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n  str = str.replace(/đ/g, \"d\");\r\n  str = str.replace(\r\n    /!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g,\r\n    \" \"\r\n  );\r\n  str = str.replace(/ + /g, \" \");\r\n  str = str.trim();\r\n  return str;\r\n};\r\n\r\nconst ContentTest = (props) => {\r\n  const {\r\n    mode,\r\n    amount,\r\n    isEn,\r\n    index,\r\n    setIndex,\r\n    currentVocab,\r\n    result,\r\n    setResult,\r\n  } = props;\r\n  const classes = useStyles();\r\n  const [answer, setAnswer] = useState(\"\");\r\n\r\n  const speaker = useRef();\r\n  const user = useSelector(selectUser);\r\n  const [dataQuiz, setDataQuiz] = useState();\r\n\r\n  const input = useRef();\r\n  const [indexQuiz, setIndexQuiz] = useState();\r\n\r\n  // xử lý sự kiện xác nhận\r\n  const handleConfirm = () => {\r\n    setIndex(index + 1);\r\n    let check = false;\r\n\r\n    // kiểm tra hướng từ vự đang kiểm tra, nếu là en -> vi thì thực hiện khối lệnh if đúng, nếu sai thực hiện khối lệnh if sai\r\n    if (answer !== \"\") {\r\n      if (isEn) {\r\n        check = change_alias(currentVocab.vi).includes(change_alias(answer));\r\n      } else {\r\n        check = currentVocab.en === answer.trim();\r\n      }\r\n    }\r\n\r\n    if (check) setResult({ ...result, score: result.score + 1 });\r\n    else setResult({ ...result, wrong: [...result.wrong, currentVocab] });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (mode === \"quiz\") {\r\n      const allData = user.topicsList.reduce((arr, cur) => {\r\n        arr = [...arr, ...cur.vocabs];\r\n        return arr;\r\n      }, []);\r\n\r\n      let temp = allData.filter(\r\n        (element) => element.en.toLowerCase() !== currentVocab.en.toLowerCase()\r\n      );\r\n      temp = temp.sort(() => Math.random() - 0.5); // trộn phần từ của mảng\r\n      temp = [...temp.slice(0, 3), currentVocab].sort(\r\n        () => Math.random() - 0.5\r\n      ); // trộn phần từ mảng, để lấy dữ liệu cho đáp án kiểm tra tra trắc nghiệm\r\n\r\n      setDataQuiz(temp);\r\n    } else input.current.focus();\r\n  }, [currentVocab]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.countdown}>\r\n        <CountdownCircleTimer\r\n          isPlaying\r\n          duration={30}\r\n          colors={\"#8fb339\"}\r\n          size={50}\r\n          strokeWidth={7}\r\n          onComplete={() => {\r\n            handleConfirm();\r\n            return [false, 0];\r\n          }}\r\n        >\r\n          {({ remainingTime }) => remainingTime}\r\n        </CountdownCircleTimer>\r\n      </div>\r\n\r\n      <span className={classes.current}>{`${index + 1}/${amount}`}</span>\r\n\r\n      <div className={classes.container}>\r\n        <Typography>\r\n          {mode === \"fill\"\r\n            ? \"Điền nghĩa của từ vào chỗ trống\"\r\n            : \"Chọn một đáp án đúng\"}\r\n        </Typography>\r\n        <Typography className=\"ques\">\r\n          {isEn ? currentVocab.en : currentVocab.vi}\r\n        </Typography>\r\n\r\n        <div className=\"speaker\">\r\n          <Speech\r\n            text={currentVocab.en}\r\n            lang=\"EN-US\"\r\n            voice=\"Google UK English Female\"\r\n            ref={speaker}\r\n          />\r\n          <VolumeUpIcon onClick={() => speaker.current.play()} />\r\n        </div>\r\n\r\n        <div className=\"ans\">\r\n          {mode === \"fill\" ? (\r\n            <input\r\n              ref={input}\r\n              type=\"text\"\r\n              placeholder=\"nhập đáp án của bạn...\"\r\n              value={answer}\r\n              onChange={(e) => setAnswer(e.target.value)}\r\n              onKeyDown={(e) => {\r\n                e.key === \"Enter\" && handleConfirm();\r\n              }}\r\n            />\r\n          ) : (\r\n            <div className=\"select\">\r\n              {dataQuiz &&\r\n                dataQuiz.map((element, index) => {\r\n                  const answer = isEn ? element.vi : element.en;\r\n                  return (\r\n                    <div\r\n                      key={index}\r\n                      className=\"option\"\r\n                      onClick={() => {\r\n                        setAnswer(answer);\r\n                        setIndexQuiz(index);\r\n                      }}\r\n                      style={{ background: index === indexQuiz && \"#8fb339\" }}\r\n                    >\r\n                      {answer}\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button className=\"btnConfirm\" onClick={handleConfirm}>\r\n          Xác nhận\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContentTest;\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { firebaseStore, fieldValue } from \"../firebase\";\r\nimport { selectUser } from \"../features/user/UserSlice\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: \"30px 10px 20px\",\r\n    background: \"linear-gradient(45deg, #85FFBD 0%, #FFFB7D 100%)\",\r\n\r\n    \"& .tilte\": {\r\n      fontSize: 22,\r\n      fontWeight: 600,\r\n      marginBottom: 20,\r\n    },\r\n\r\n    \"& p\": {\r\n      fontSize: 15,\r\n      fontWeight: 300,\r\n      color: \"#999\",\r\n      marginBottom: 10,\r\n    },\r\n\r\n    \"& p:nth-of-type(2)\": {\r\n      alignSelf: \"flex-start\",\r\n      paddingLeft: 20,\r\n      color: \"#333\",\r\n    },\r\n\r\n    \"& .score\": {\r\n      fontWeight: 600,\r\n      fontSize: 50,\r\n      marginBottom: 50,\r\n    },\r\n\r\n    \"& .wrapper\": {\r\n      width: \"90%\",\r\n      minHeight: 150,\r\n      maxHeight: 230,\r\n      border: \"1px solid #999\",\r\n      padding: \"5px 12px\",\r\n      listStyleType: \"none\",\r\n      color: \"#555\",\r\n      overflowY: \"scroll\",\r\n\r\n      \"&::-webkit-scrollbar-track\": {\r\n        boxShadow: \"inset 0 0 6px rgba(0,0,0,0.3)\",\r\n        borderRadius: 10,\r\n        background: \"#F5F5F5\",\r\n      },\r\n\r\n      \"&::-webkit-scrollbar\": {\r\n        width: 3,\r\n        background: \"#F5F5F5\",\r\n      },\r\n\r\n      \"&::-webkit-scrollbar-thumb\": {\r\n        borderRadius: 10,\r\n        boxShadow: \"inset 0 0 6px rgba(0,0,0,0.3)\",\r\n        background: theme.palette.primary.main,\r\n      },\r\n\r\n      \"& li\": {\r\n        padding: \"3px 0\",\r\n        textTransform: \"lowercase\",\r\n      },\r\n    },\r\n\r\n    \"& button\": {\r\n      position: \"absolute\",\r\n      bottom: 0,\r\n      left: 0,\r\n      width: \"100%\",\r\n      fontWeight: 500,\r\n      padding: \"18px 0\",\r\n      fontSize: 17,\r\n      color: theme.palette.text.main,\r\n      background: theme.palette.primary.main,\r\n      border: \"none\",\r\n      cursor: \"pointer\",\r\n      boxShadow: theme.shadows[3],\r\n      transition: \".3s\",\r\n\r\n      \"&:hover\": {\r\n        background: theme.palette.primary.main + \"ac\",\r\n        transition: \".3s\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\n// chuyển điểm số thành các câu tiêu đề\r\nconst changeScoreToText = (score, amount) => {\r\n  if (score === amount) return \"Tuyệt vời!\";\r\n  else if (score < amount && score >= amount - 5)\r\n    return \"Bạn đang làm rất tốt. Hãy cố lên!\";\r\n  else return \"Kết quả lần này không được tốt!\";\r\n};\r\n\r\nconst ResultTest = ({\r\n  result,\r\n  amount,\r\n  setOpenTest,\r\n  dataTest,\r\n  setBeginTest,\r\n}) => {\r\n  const classes = useStyles();\r\n  const title = changeScoreToText(result.score, amount);\r\n  const user = useSelector(selectUser);\r\n\r\n  const db = firebaseStore.collection(\"accounts\").doc(user.email);\r\n\r\n  useEffect(() => {\r\n    setBeginTest(false);\r\n    const allTopic = user.topicsList;\r\n    const { score, wrong } = result;\r\n    const right = dataTest.filter((element1) => {\r\n      let result = true;\r\n\r\n      wrong.forEach((element2) => {\r\n        if (element1.id === element2.id) result = false;\r\n      });\r\n\r\n      return result;\r\n    });\r\n\r\n    const newWrong = wrong.map((element) => {\r\n      return { ...element, scoreWrong: element.scoreWrong + 1 };\r\n    });\r\n\r\n    const newRight = right.map((element) => {\r\n      return {\r\n        ...element,\r\n        scoreWrong: element.scoreWrong - 1 >= 0 ? element.scoreWrong - 1 : 0,\r\n      };\r\n    });\r\n\r\n    const temp = [...newRight, ...newWrong];\r\n\r\n    // kiểm tra topic nào có từ vựng được sửa lại scoreWrong thì sẽ lưu lại, dành cho cập nhật topicsList\r\n    const dataUpdate = allTopic.reduce((arr, cur) => {\r\n      const idTopic = cur.id;\r\n      let isChange = false;\r\n\r\n      const checkArr = cur.vocabs.map((element1) => {\r\n        let result = { ...element1 };\r\n        temp.forEach((element2) => {\r\n          if (element1.id === element2.id) {\r\n            isChange = true;\r\n            result = { ...element2 };\r\n          }\r\n        });\r\n        return result;\r\n      });\r\n\r\n      if (isChange)\r\n        arr.push({\r\n          idTopic,\r\n          vocabs: checkArr,\r\n        });\r\n\r\n      return arr;\r\n    }, []);\r\n\r\n    // thực hiện cập nhật lại danh sách từ vựng của chủ đề\r\n    dataUpdate.forEach((element) => {\r\n      db.collection(\"topicsList\").doc(element.idTopic).update({\r\n        vocabs: element.vocabs,\r\n      });\r\n    });\r\n\r\n    // tăng số điểm trong firestore\r\n    db.update({\r\n      score: fieldValue.increment(score),\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className=\"tilte\">{title}</div>\r\n      <p>Số điểm bạn đã đạt được</p>\r\n      <div className=\"score\">{result.score}</div>\r\n\r\n      <p>{`Từ vựng bạn đã làm sai: ${result.wrong.length}`}</p>\r\n      <ul className=\"wrapper\">\r\n        {result.wrong.map((item, index) => (\r\n          <li key={index}>{`${item.en}: ${item.vi}`}</li>\r\n        ))}\r\n      </ul>\r\n\r\n      <button onClick={() => setOpenTest(false)}>Thoát</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultTest;\r\n","import { makeStyles, Paper } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport ConfigTest from \"./ConfigTest\";\r\nimport FillTest from \"./ContentTest\";\r\nimport ResultTest from \"./ResultTest\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n  },\r\n  cover: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    background: \"rgba(0, 0, 0, 0.8)\",\r\n  },\r\n  paper: {\r\n    width: \"100%\",\r\n    height: \"70%\",\r\n    minHeight: 550,\r\n    maxWidth: 400,\r\n    background: theme.palette.background.paper,\r\n    position: \"absolute\",\r\n    top: \"10%\",\r\n    left: \"50%\",\r\n    transform: \"translateX(-50%)\",\r\n    borderRadius: 0,\r\n    boxShadow: theme.shadows[10],\r\n\r\n    [theme.breakpoints.down(500)]: {\r\n      maxWidth: \"100vw\",\r\n      height: \"100vh\",\r\n      top: 0,\r\n      left: 0,\r\n      transform: \"translateX(0)\",\r\n    },\r\n  },\r\n\r\n  content: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst Test = ({ setOpenTest, dataTest }) => {\r\n  const classes = useStyles();\r\n  const [config, setConfig] = useState({\r\n    mode: \"fill\",\r\n    direc: \"en\",\r\n    amount: 10,\r\n  });\r\n  const [index, setIndex] = useState(0);\r\n\r\n  const [beginTest, setBeginTest] = useState(false);\r\n  const [currentVocab, setCurrentVocab] = useState({});\r\n  const array = [...dataTest];\r\n\r\n  const [result, setResult] = useState({\r\n    score: 0,\r\n    wrong: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (index < config.amount)\r\n      setCurrentVocab(array.slice(index, index + 1)[0]);\r\n  }, [index]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div\r\n        className={classes.cover}\r\n        onClick={() => {\r\n          beginTest\r\n            ? window.confirm(\r\n                \"Bạn đang thực hiện kiểm tra. Bạn có thực sự muốn thoát?\"\r\n              ) && setOpenTest(false)\r\n            : setOpenTest(false);\r\n        }}\r\n      ></div>\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.content}>\r\n          {index < config.amount ? (\r\n            beginTest ? (\r\n              <FillTest\r\n                key={index}\r\n                mode={config.mode}\r\n                amount={config.amount}\r\n                currentVocab={currentVocab}\r\n                index={index}\r\n                setIndex={setIndex}\r\n                result={result}\r\n                setResult={setResult}\r\n                isEn={config.direc === \"en\" ? true : false}\r\n              />\r\n            ) : (\r\n              <ConfigTest\r\n                config={config}\r\n                setConfig={setConfig}\r\n                setBeginTest={setBeginTest}\r\n                setOpenTest={setOpenTest}\r\n                amount={array.length}\r\n              />\r\n            )\r\n          ) : (\r\n            <ResultTest\r\n              result={result}\r\n              amount={config.amount}\r\n              setOpenTest={setOpenTest}\r\n              dataTest={array.slice(0, config.amount)}\r\n              setBeginTest={setBeginTest}\r\n            />\r\n          )}\r\n        </div>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Test;\r\n","import { Typography } from \"@material-ui/core\";\r\nimport Masonry, { ResponsiveMasonry } from \"react-responsive-masonry\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Topic from \"./Topic\";\r\nimport Tools from \"../components/Tools\";\r\nimport CreateTopic from \"../components/CreateTopic\";\r\nimport AddCircleRoundedIcon from \"@material-ui/icons/AddCircleRounded\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { firebaseStore, increment } from \"../firebase\";\r\nimport { selectUser } from \"../features/user/UserSlice\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { findTopic } from \"../functions/find\";\r\nimport { sortTopic } from \"../functions/sort\";\r\nimport Print from \"./Print\";\r\nimport Test from \"./Test\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n    height: \"auto\",\r\n    background: theme.palette?.background?.default,\r\n  },\r\n  container: {\r\n    padding: `${theme.spacing(3)}px ${theme.spacing(2)}px`,\r\n    margin: \"0 auto\",\r\n    width: \"100%\",\r\n    maxWidth: 1100,\r\n    minHeight: \"calc(100vh - 55px)\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      padding: `${theme.spacing(2)}px ${theme.spacing(1)}px`,\r\n    },\r\n  },\r\n  wrapperInform: {\r\n    textAlign: \"center\",\r\n    paddingTop: \"50px\",\r\n\r\n    \"& .MuiTypography-root\": {\r\n      color: theme.palette.text.primary,\r\n    },\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      \"& .MuiTypography-h4\": {\r\n        fontSize: 25,\r\n      },\r\n    },\r\n  },\r\n  icon: {\r\n    height: \"55px\",\r\n    width: \"55px\",\r\n    marginTop: theme.spacing(1.5),\r\n    cursor: \"pointer\",\r\n    opacity: \".8\",\r\n    transition: \"all .3s\",\r\n\r\n    \"&:hover\": {\r\n      opacity: \"1\",\r\n      transform: \"scale(1.05)\",\r\n      transition: \"all .3s\",\r\n    },\r\n  },\r\n  notFound: {\r\n    color: theme.palette.text.primary,\r\n    textAlign: \"center\",\r\n    position: \"absolute\",\r\n    fontSize: 18,\r\n    left: \"50%\",\r\n    transform: \"translateX(-50%)\",\r\n  },\r\n}));\r\n\r\nconst TopicList = () => {\r\n  const classes = useStyles();\r\n  const [countTopic, setCountTopic] = useState(0);\r\n  const [isOpenCreateTopic, setIsOpenCreateTopic] = useState(false);\r\n  const [dataFinding, setDataFinding] = useState(\"\");\r\n\r\n  const [valueSort, setValueSort] = useState(null);\r\n  const [dataPrint, setDataPrint] = useState(null);\r\n  const [openTest, setOpenTest] = useState(false);\r\n\r\n  const [dataTest, setDataTest] = useState();\r\n  const user = useSelector(selectUser);\r\n  const db = firebaseStore.collection(\"accounts\").doc(user.email);\r\n\r\n  const now = Date.now();\r\n\r\n  // hàm xử lý thêm chủ đề vào firestore\r\n  const handleCreateTopic = (topic, background) => {\r\n    const intialData = {\r\n      topic,\r\n      background,\r\n      vocabs: [],\r\n      dateCreated: now,\r\n      countVocab: 0,\r\n    };\r\n\r\n    db.collection(\"topicsList\")\r\n      .doc()\r\n      .set(intialData)\r\n      .then(() =>\r\n        // tăng biến countTopic lên 1 sau khi thêm topic thành công\r\n        db.update({\r\n          countTopic: increment,\r\n        })\r\n      )\r\n      .catch((err) => alert(\"Xảy ra lỗi trong quá trình tạo chủ đề!\\n\" + err));\r\n  };\r\n\r\n  // xử lý mở, truyền dữ liệu cho chức năng kiểm tra\r\n  const handleTest = (type) => {\r\n    const arrayDataTest = user.topicsList.reduce((arr, cur) => {\r\n      arr = [...arr, ...cur.vocabs];\r\n      return arr;\r\n    }, []);\r\n\r\n    let temp;\r\n    if (type === \"type1\") {\r\n      temp = arrayDataTest.sort((e1, e2) => {\r\n        if (e1.scoreWrong < e2.scoreWrong) return 1;\r\n        if (e1.scoreWrong > e2.scoreWrong) return -1;\r\n        return 0;\r\n      });\r\n    } else {\r\n      temp = arrayDataTest.sort(() => Math.random() - 0.5); // trộn phần từ của mảng\r\n    }\r\n\r\n    if (temp.length >= 10) {\r\n      setDataTest(temp);\r\n      setOpenTest(true);\r\n    } else {\r\n      alert(\"Bạn phải có ít nhất 10 từ vựng để thực hiện kiểm tra!\");\r\n    }\r\n  };\r\n\r\n  // gán giá trị countTopic khi load trang\r\n  useEffect(() => {\r\n    setCountTopic(user?.data?.countTopic);\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.container}>\r\n        {countTopic === 0 ? (\r\n          <div className={classes.wrapperInform}>\r\n            <Typography variant=\"h4\">\r\n              Oops!...Bạn chưa có chủ đề nào cả.\r\n            </Typography>\r\n\r\n            <Typography>\r\n              Hãy tạo cho mình một chủ đề bằng cách nhấn vào nút bên dưới\r\n            </Typography>\r\n\r\n            <AddCircleRoundedIcon\r\n              className={classes.icon}\r\n              color=\"primary\"\r\n              onClick={() => setIsOpenCreateTopic(true)}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <ResponsiveMasonry\r\n              columnsCountBreakPoints={{ 350: 1, 750: 2, 900: 3 }}\r\n            >\r\n              <Masonry gutter={\"20px\"}>\r\n                {user &&\r\n                user.topicsList &&\r\n                findTopic(user.topicsList, \"topic\", dataFinding).length > 0 ? (\r\n                  sortTopic(\r\n                    findTopic(user.topicsList, \"topic\", dataFinding).filter(\r\n                      (topic) => topic.id !== \"forgetful\"\r\n                    ),\r\n                    valueSort\r\n                  ).map((topic) => (\r\n                    <Topic\r\n                      key={topic.id}\r\n                      id={topic.id}\r\n                      title={topic.topic}\r\n                      content={topic.vocabs}\r\n                      background={topic.background}\r\n                      setDataPrint={setDataPrint}\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <Typography variant=\"h6\" className={classes.notFound}>\r\n                    Không tìm thấy dữ liệu...!\r\n                  </Typography>\r\n                )}\r\n              </Masonry>\r\n            </ResponsiveMasonry>\r\n\r\n            <Tools\r\n              setIsOpen={setIsOpenCreateTopic}\r\n              dataFinding={dataFinding}\r\n              setDataFinding={setDataFinding}\r\n              setValueSort={setValueSort}\r\n              handleTest={handleTest}\r\n              isTopic={true}\r\n            />\r\n          </>\r\n        )}\r\n        <CreateTopic\r\n          isOpen={isOpenCreateTopic}\r\n          setIsOpen={setIsOpenCreateTopic}\r\n          handleCreateTopic={handleCreateTopic}\r\n        />\r\n      </div>\r\n      {dataPrint && <Print dataPrint={dataPrint} setDataPrint={setDataPrint} />}\r\n      {openTest && <Test setOpenTest={setOpenTest} dataTest={dataTest} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TopicList;\r\n","import { makeStyles, TextField } from \"@material-ui/core\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport CustomDialog from \"./CustomDialog\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  row: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginTop: theme.spacing(2),\r\n\r\n    \"& .label\": {\r\n      flex: \"110px\",\r\n      fontSize: 15,\r\n    },\r\n  },\r\n  textField: {\r\n    \"& .MuiOutlinedInput-input\": {\r\n      padding: \"10px 14px\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst CreateVocabulary = (props) => {\r\n  const {\r\n    isOpen,\r\n    setIsOpen,\r\n    handleCreateVocab,\r\n    isMutiple = true,\r\n    isEdit = false,\r\n    enE,\r\n    viE,\r\n  } = props;\r\n  const [en, setEn] = useState(\"\");\r\n  const [vi, setVi] = useState(\"\");\r\n  const enInput = useRef();\r\n\r\n  // truyền dữ liệu để xử lý tạo từ vựng\r\n  const createVocab = () => {\r\n    if (en === \"\" || vi === \"\")\r\n      alert(\r\n        \"Từ vựng và dịch nghĩa là 2 trường bắt buộc. Hãy nhập đầy đủ thông tin!\"\r\n      );\r\n    else {\r\n      handleCreateVocab(en, vi);\r\n      setInitialValue();\r\n      enInput.current.focus();\r\n    }\r\n  };\r\n\r\n  const setInitialValue = () => {\r\n    setEn(enE ? enE : \"\");\r\n    setVi(viE ? viE : \"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isEdit) {\r\n      setEn(enE);\r\n      setVi(viE);\r\n    }\r\n  }, [enE, viE]);\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={isOpen}\r\n      handleClose={setIsOpen}\r\n      title={\"Tạo từ vựng\"}\r\n      content={\r\n        <CustomDialogContent\r\n          en={en}\r\n          setEn={setEn}\r\n          vi={vi}\r\n          setVi={setVi}\r\n          enInput={enInput}\r\n        />\r\n      }\r\n      cancel={\"Hủy\"}\r\n      agree={\"Tạo\"}\r\n      eventAgree={createVocab}\r\n      eventCancel={setInitialValue}\r\n      colorTitle={\"transparent\"}\r\n      isMutiple={isMutiple}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CreateVocabulary;\r\n\r\n// tạo phần nội dung của component CustomDialog\r\nconst CustomDialogContent = ({ en, setEn, vi, setVi, enInput }) => {\r\n  const classes = useStyles();\r\n\r\n  const onChangeEn = (e) => {\r\n    setEn(e.target.value);\r\n  };\r\n\r\n  const onChangeVi = (e) => {\r\n    setVi(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.row}>\r\n        <div className=\"label\">Từ vựng:</div>\r\n        <TextField\r\n          className={classes.textField}\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          value={en}\r\n          inputRef={enInput}\r\n          onChange={onChangeEn}\r\n        />\r\n      </div>\r\n      <div className={classes.row}>\r\n        <div className=\"label\">Dịch nghĩa:</div>\r\n        <TextField\r\n          className={classes.textField}\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          value={vi}\r\n          onChange={onChangeVi}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import axios from 'axios'\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'https://api.tracau.vn/WBBcwnwQpV89'\r\n})\r\n\r\nexport default axiosInstance;","import { useEffect, useState, useRef } from \"react\";\r\nimport axios from \"../axios\";\r\nimport Speech from \"react-speech\";\r\nimport {\r\n  Accordion,\r\n  AccordionDetails,\r\n  AccordionSummary,\r\n  makeStyles,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../features/user/UserSlice\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\r\nimport CreateVocabulary from \"./CreateVocabulary\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    marginBottom: theme.spacing(1.5),\r\n\r\n    \"& .MuiButtonBase-root\": {\r\n      cursor: \"default !important\",\r\n    },\r\n\r\n    \"& .MuiAccordionSummary-root\": {\r\n      borderBottom: \"1px solid #999\",\r\n    },\r\n  },\r\n  content: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    width: \"100%\",\r\n  },\r\n  flex: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  left: {\r\n    flexBasis: 150,\r\n\r\n    \"& .MuiTypography-body1\": {\r\n      fontWeight: 600,\r\n      textTransform: \"capitalize\",\r\n    },\r\n  },\r\n  speaker: {\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    marginLeft: 8,\r\n\r\n    \"& span\": {\r\n      display: \"inline-block\",\r\n    },\r\n\r\n    \"& span button\": {\r\n      width: 18,\r\n      height: 18,\r\n      background: `${theme.palette.primary.main}94 !important`,\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      transition: \".3s ease-out\",\r\n\r\n      \"&:hover\": {\r\n        transform: \"scale(1.08)\",\r\n        transition: \".3s ease-out\",\r\n        background: `${theme.palette.primary.main} !important`,\r\n      },\r\n\r\n      \"& svg\": {\r\n        fill: \"#000\",\r\n        width: 16,\r\n        height: 16,\r\n      },\r\n    },\r\n  },\r\n  middle: {\r\n    flex: 2,\r\n    textTransform: \"lowercase\",\r\n\r\n    \"& .MuiTypography-body1\": {\r\n      textTransform: \"lowercase\",\r\n    },\r\n  },\r\n  right: {\r\n    \"& div\": {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      width: 28,\r\n      height: 28,\r\n      background: theme.palette.primary.main,\r\n      borderRadius: 100,\r\n      marginLeft: 8,\r\n      cursor: \"pointer\",\r\n      transition: \"0.3s\",\r\n\r\n      \"&:hover\": {\r\n        opacity: 0.75,\r\n        boxShadow: theme.shadows[4],\r\n      },\r\n\r\n      \"& .MuiSvgIcon-root\": {\r\n        marginLeft: 0,\r\n        width: 18,\r\n        height: 18,\r\n        fill: `${theme.palette.text.primary} !important`,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst Vocabulary = (props) => {\r\n  const classes = useStyles();\r\n  const {\r\n    data,\r\n    hanleRemoveVocab,\r\n    isAddForgetful = true,\r\n    handleEdit,\r\n    expanded,\r\n    setExpanded,\r\n    idTopic,\r\n    addForgetful,\r\n  } = props;\r\n\r\n  const [isOpenCreateVocabulary, setIsOpenCreateVocabulary] = useState(false);\r\n  const [addiContent, setAddiContent] = useState();\r\n  const { id, en, vi, scoreWrong } = data;\r\n\r\n  const user = useSelector(selectUser);\r\n  const subContent = useRef();\r\n\r\n  const handleChange = () => {\r\n    setExpanded((before) => {\r\n      if (before === id) return null;\r\n      return id;\r\n    });\r\n  };\r\n\r\n  // Lấy dữ liệu từ trang tracau.vn\r\n  const getData = async () => {\r\n    const response = await axios.get(`/s/${en}/en`);\r\n    setAddiContent(response.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    addiContent && addSubContent();\r\n  }, [addiContent]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  // xử lý dữ liệu đã tải về từ trang tracau.vn\r\n  const addSubContent = () => {\r\n    if (addiContent.tratu.length !== 0) {\r\n      let content = addiContent?.tratu[0]?.fields?.fulltext;\r\n\r\n      content = content.substring(\r\n        content.search(\"<table\"),\r\n        content.search(\"</table>\") + 8\r\n      );\r\n      subContent.current.innerHTML = content;\r\n    } else subContent.current.innerHTML = \"Không tìm thấy dữ liệu\";\r\n  };\r\n\r\n  // truyền dữ liệu về component VocabularyList để xử lý chức năng xóa\r\n  const onClickRemove = () => {\r\n    hanleRemoveVocab(data);\r\n  };\r\n\r\n  // truyền dữ liệu về component VocabularyList để xử lý chức năng sửa\r\n  const tranDataEdit = (en, vi) => {\r\n    handleEdit(id, en, vi);\r\n  };\r\n\r\n  // truyền dữ liệu về component VocabularyList để xử lý chức năng thêm từ vựng hay quên\r\n  const tranForgetful = () => {\r\n    addForgetful(id);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.root}>\r\n        <Accordion expanded={expanded === id}>\r\n          <AccordionSummary\r\n            aria-controls=\"panel1bh-content\"\r\n            id=\"panel1bh-header\"\r\n          >\r\n            <div className={classes.content}>\r\n              <div className={`${classes.flex} ${classes.left}`}>\r\n                <Typography>{en}</Typography>\r\n                <div className={classes.speaker}>\r\n                  <Speech\r\n                    text={en}\r\n                    lang=\"EN-US\"\r\n                    voice=\"Google UK English Female\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <Typography className={classes.middle}>{vi}</Typography>\r\n\r\n              <div className={`${classes.flex} ${classes.right}`}>\r\n                <div onClick={handleChange}>\r\n                  <Tooltip title=\"Thông tin thêm\">\r\n                    <MoreHorizIcon />\r\n                  </Tooltip>\r\n                </div>\r\n\r\n                <div onClick={() => setIsOpenCreateVocabulary(true)}>\r\n                  <Tooltip title=\"Sửa\">\r\n                    <EditIcon />\r\n                  </Tooltip>\r\n                </div>\r\n\r\n                <div onClick={onClickRemove}>\r\n                  <Tooltip title=\"Xóa\">\r\n                    <DeleteIcon />\r\n                  </Tooltip>\r\n                </div>\r\n\r\n                {isAddForgetful && (\r\n                  <div\r\n                    style={{ background: scoreWrong >= 3 && \"#ec2929\" }}\r\n                    onClick={tranForgetful}\r\n                  >\r\n                    <Tooltip\r\n                      title={\r\n                        scoreWrong >= 3\r\n                          ? \"Đã ở trong mục hay quên\"\r\n                          : \"Đánh dấu từ vựng hay quên\"\r\n                      }\r\n                    >\r\n                      <HighlightIcon />\r\n                    </Tooltip>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <div ref={subContent}></div>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n      </div>\r\n\r\n      <CreateVocabulary\r\n        isOpen={isOpenCreateVocabulary}\r\n        setIsOpen={setIsOpenCreateVocabulary}\r\n        handleCreateVocab={tranDataEdit}\r\n        isEdit={true}\r\n        enE={en}\r\n        viE={vi}\r\n        isMutiple={false}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Vocabulary;\r\n","import {\r\n  IconButton,\r\n  makeStyles,\r\n  Snackbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport CreateVocabulary from \"./CreateVocabulary\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport AddCircleRoundedIcon from \"@material-ui/icons/AddCircleRounded\";\r\nimport Tools from \"./Tools\";\r\nimport Vocabulary from \"./Vocabulary\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../features/user/UserSlice\";\r\nimport { firebaseStore, fieldValue, increment, decrement } from \"../firebase\";\r\nimport { findVocab } from \"../functions/find\";\r\nimport { sortVocab } from \"../functions/sort\";\r\nimport Test from \"./Test\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n    height: \"auto\",\r\n    background: theme.palette?.background?.default,\r\n  },\r\n  container: {\r\n    padding: `${theme.spacing(3)}px ${theme.spacing(2)}px`,\r\n    margin: \"0 auto\",\r\n    width: \"100%\",\r\n    maxWidth: 900,\r\n    minHeight: \"calc(100vh - 55px)\",\r\n    background: theme.palette?.background?.default,\r\n\r\n    \"& .MuiSnackbarContent-root\": {\r\n      background: theme.palette.primary.main,\r\n    },\r\n  },\r\n  wrapperInform: {\r\n    textAlign: \"center\",\r\n    paddingTop: \"50px\",\r\n\r\n    \"& .MuiTypography-root\": {\r\n      color: theme.palette.text.primary,\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      \"& .MuiTypography-h4\": {\r\n        fontSize: 25,\r\n      },\r\n    },\r\n  },\r\n  icon: {\r\n    height: \"55px\",\r\n    width: \"55px\",\r\n    marginTop: theme.spacing(1.5),\r\n    cursor: \"pointer\",\r\n    opacity: \".8\",\r\n    transition: \"all .3s\",\r\n\r\n    \"&:hover\": {\r\n      opacity: \"1\",\r\n      transform: \"scale(1.05)\",\r\n      transition: \"all .3s\",\r\n    },\r\n  },\r\n  notFound: {\r\n    color: theme.palette.text.primary,\r\n    textAlign: \"center\",\r\n    position: \"absolute\",\r\n    fontSize: 18,\r\n    left: \"50%\",\r\n    transform: \"translateX(-50%)\",\r\n  },\r\n}));\r\n\r\nconst VocabularyList = () => {\r\n  const classes = useStyles();\r\n  const user = useSelector(selectUser);\r\n  const [data, setData] = useState({});\r\n  const [isOpenSnackbar, setIsOpenSnackbar] = useState(false);\r\n  const [expanded, setExpanded] = useState();\r\n  const [dataFinding, setDataFinding] = useState(\"\");\r\n\r\n  const [valueSort, setValueSort] = useState(null);\r\n  const { id } = useParams();\r\n  const [isOpenCreateVocabulary, setIsOpenCreateVocabulary] = useState(false);\r\n  const db = firebaseStore\r\n    .collection(\"accounts\")\r\n    .doc(user.email)\r\n    .collection(\"topicsList\")\r\n    .doc(id);\r\n\r\n  const [openTest, setOpenTest] = useState(false);\r\n  const [dataTest, setDataTest] = useState();\r\n\r\n  useEffect(() => {\r\n    const topic = user.topicsList\r\n      ? user.topicsList?.filter((topic) => topic.id === id)\r\n      : [];\r\n    setData({ ...topic[0] });\r\n  }, [user, id]);\r\n\r\n  // xử lý tạo từ vựng\r\n  const handleCreateVocab = (en, vi) => {\r\n    if (data.countVocab < 50) {\r\n      const id = firebaseStore.collection(\"accounts\").doc().id;\r\n      const vocab = { id, en, vi, dateCreated: Date.now(), scoreWrong: 0 };\r\n\r\n      db.update({\r\n        vocabs: fieldValue.arrayUnion(vocab),\r\n      })\r\n        .then(() => {\r\n          handleClick();\r\n\r\n          db.update({\r\n            countVocab: increment,\r\n          });\r\n\r\n          firebaseStore.collection(\"accounts\").doc(user.email).update({\r\n            countVocab: increment,\r\n          });\r\n        })\r\n        .catch((err) =>\r\n          alert(\"Xảy ra lỗi trong quá trình thêm từ vựng!\\n\", err)\r\n        );\r\n    } else {\r\n      alert(\"Một chủ đề chỉ được chứa tối đa 50 từ vựng!\");\r\n    }\r\n  };\r\n\r\n  // xử lý xóa từ vựng\r\n  const hanleRemoveVocab = (id) => {\r\n    db.update({\r\n      vocabs: fieldValue.arrayRemove(id),\r\n    })\r\n      .then(() => {\r\n        db.update({\r\n          countVocab: decrement,\r\n        });\r\n\r\n        firebaseStore.collection(\"accounts\").doc(user.email).update({\r\n          countVocab: decrement,\r\n        });\r\n      })\r\n      .catch((err) => alert(\"Xảy ra lỗi trong quá trình xóa từ vựng!\\n\", err));\r\n  };\r\n\r\n  // xử lý sửa từ vựng\r\n  const handleEdit = (id, en, vi) => {\r\n    const vocabsEdited = data.vocabs.map((vocab) => {\r\n      if (vocab.id === id) return { ...vocab, en, vi };\r\n      return vocab;\r\n    });\r\n\r\n    db.update({ vocabs: vocabsEdited }).catch((err) =>\r\n      alert(\"Xảy ra lỗi trong quá trình cập nhập!\\n\", err)\r\n    );\r\n  };\r\n\r\n  // thêm từ vựng vào chủ đề từ vựng hay quên\r\n  const addForgetful = (id) => {\r\n    // nếu scoreWrong lớn hơn 3, từ vựng sẽ được đưa vào thư mục từ vựng hay quên\r\n    // nếu người dùng click vào nút hay quên, sẽ tăng scoreWrong của từ vựng lên 5\r\n    let vocab = {};\r\n    const temp = data.vocabs.reduce((arr, cur) => {\r\n      if (cur.id === id) {\r\n        cur = { ...cur, scoreWrong: 5 };\r\n        vocab = { ...cur };\r\n      }\r\n      arr.push(cur);\r\n      return arr;\r\n    }, []);\r\n\r\n    // tăng scoreWrong trong chủ đề\r\n    db.update({\r\n      vocabs: temp,\r\n    }).catch((err) =>\r\n      alert(\"Không thể thêm từ vựng vào thư mục từ vựng hay quên!\\n\", err)\r\n    );\r\n  };\r\n\r\n  // xử lý mở, truyền dữ liệu cho chức năng kiểm tra\r\n  const handleTest = (type) => {\r\n    const arrayDataTest = user.topicsList.reduce((arr, cur) => {\r\n      if (cur.id === id) arr = [...cur.vocabs];\r\n      return arr;\r\n    }, []);\r\n\r\n    let temp = [...arrayDataTest];\r\n    if (type === \"type2\") {\r\n      temp = [...arrayDataTest.sort(() => Math.random() - 0.5)]; // trộn phần từ của mảng\r\n    }\r\n\r\n    if (temp.length >= 10) {\r\n      setDataTest(temp);\r\n      setOpenTest(true);\r\n    } else {\r\n      alert(\"Bạn phải có ít nhất 10 từ vựng để thực hiện kiểm tra!\");\r\n    }\r\n  };\r\n\r\n  // mở hộp thoại thông báo thêm từ vựng thành công\r\n  const handleClick = () => {\r\n    setIsOpenSnackbar(true);\r\n  };\r\n\r\n  const handleCloseSnackbar = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setIsOpenSnackbar(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.container}>\r\n        {data && data?.vocabs?.length > 0 ? (\r\n          <>\r\n            {data && findVocab(data.vocabs, \"en\", \"vi\", dataFinding) ? (\r\n              sortVocab(\r\n                findVocab(data.vocabs, \"en\", \"vi\", dataFinding),\r\n                valueSort\r\n              ).map((vocab) => (\r\n                <Vocabulary\r\n                  key={vocab.id}\r\n                  data={vocab}\r\n                  expanded={expanded}\r\n                  setExpanded={setExpanded}\r\n                  hanleRemoveVocab={hanleRemoveVocab}\r\n                  handleEdit={handleEdit}\r\n                  idTopic={id}\r\n                  addForgetful={addForgetful}\r\n                />\r\n              ))\r\n            ) : (\r\n              <Typography variant=\"h6\" className={classes.notFound}>\r\n                Không tìm thấy dữ liệu...!\r\n              </Typography>\r\n            )}\r\n\r\n            <Tools\r\n              setIsOpen={setIsOpenCreateVocabulary}\r\n              dataFinding={dataFinding}\r\n              setDataFinding={setDataFinding}\r\n              setValueSort={setValueSort}\r\n              isVocab={true}\r\n              handleTest={handleTest}\r\n            />\r\n          </>\r\n        ) : (\r\n          <div className={classes.wrapperInform}>\r\n            <Typography variant=\"h4\">\r\n              Oops!...Chủ đề này chưa có từ vựng nào cả.\r\n            </Typography>\r\n\r\n            <Typography>\r\n              Hãy tạo từ vựng bằng cách nhấn vào biểu tượng bên dưới\r\n            </Typography>\r\n\r\n            <AddCircleRoundedIcon\r\n              className={classes.icon}\r\n              color=\"primary\"\r\n              onClick={() => setIsOpenCreateVocabulary(true)}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <CreateVocabulary\r\n          isOpen={isOpenCreateVocabulary}\r\n          setIsOpen={setIsOpenCreateVocabulary}\r\n          handleCreateVocab={handleCreateVocab}\r\n        />\r\n\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: \"bottom\",\r\n            horizontal: \"left\",\r\n          }}\r\n          open={isOpenSnackbar}\r\n          autoHideDuration={4000}\r\n          onClose={handleCloseSnackbar}\r\n          message=\"Thêm từ vựng thành công\"\r\n          action={\r\n            <IconButton\r\n              size=\"small\"\r\n              aria-label=\"close\"\r\n              color=\"inherit\"\r\n              onClick={handleCloseSnackbar}\r\n            >\r\n              <CloseIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          }\r\n          style={{ zIndex: 10000 }}\r\n        />\r\n      </div>\r\n\r\n      {openTest && <Test setOpenTest={setOpenTest} dataTest={dataTest} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VocabularyList;\r\n","import { makeStyles } from \"@material-ui/styles\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useBeforeunload } from \"react-beforeunload\";\r\nimport Nav from \"../components/Nav\";\r\nimport TopicList from \"../components/TopicList\";\r\nimport VocabularyList from \"../components/VocabularyList\";\r\nimport { firebaseStore } from \"../firebase\";\r\nimport {\r\n  selectUser,\r\n  addDataUser,\r\n  addTopicsList,\r\n} from \"../features/user/UserSlice\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    background: theme.palette.background.default,\r\n  },\r\n}));\r\n\r\n// hàm tính thời gian online của người dùng\r\nconst calOnlinedTime = (start) => {\r\n  const end = Date.now();\r\n  const minutes = (end - start) / 1000 / 60;\r\n  return parseFloat(minutes.toFixed(1));\r\n};\r\n\r\n// hàm trả về tuần của ngày trong năm\r\nconst getWeek = function (date) {\r\n  const time = new Date(date);\r\n  var onejan = new Date(time.getFullYear(), 0, 1);\r\n  return Math.ceil(((time - onejan) / 86400000 + onejan.getDay() + 1) / 7);\r\n};\r\n\r\n// hàm so sánh 2 ngày với nhau khi có mili giây\r\nconst compareDate = (time1, time2) => {\r\n  const date1 = new Date(time1);\r\n  const date2 = new Date(time2);\r\n  return (\r\n    date1.getFullYear() === date2.getFullYear() &&\r\n    date1.getMonth() === date2.getMonth() &&\r\n    date1.getDate() === date2.getDate()\r\n  );\r\n};\r\n\r\nconst HomePage = () => {\r\n  const classes = useStyles();\r\n  const [start, setStart] = useState();\r\n  const user = useSelector(selectUser);\r\n  const dispatch = useDispatch();\r\n  const db = firebaseStore.collection(\"accounts\").doc(user.email);\r\n\r\n  useBeforeunload((event) => {\r\n    addOnlinedTime(start);\r\n    event.preventDefault();\r\n  });\r\n\r\n  // hàm thêm thời gian online vào firestore\r\n  // sẽ thêm khi người dùng thoát trang web\r\n  const addOnlinedTime = async (start = Date.now()) => {\r\n    const minutes = calOnlinedTime(start);\r\n    const dateStart = new Date(start).getDay();\r\n    const index = dateStart - 1 >= 0 ? dateStart - 1 : 6;\r\n    const value = {\r\n      date: start,\r\n      minutes,\r\n    };\r\n\r\n    const response = await db.get();\r\n    const fetchData = response.data();\r\n    let onlinedTime = fetchData.onlinedTime;\r\n    const reverse = [...onlinedTime];\r\n    let findNotZero = reverse\r\n      .reverse()\r\n      .find((element) => typeof element !== \"number\");\r\n\r\n    // nếu findNotZero có từ một phần tử khác 0, sẽ kiểm tra phần tử có cùng tuần với phần từ cần thêm vào mảng hay không\r\n    // nếu findNotZero không có phần từ khác 0, push thẳng trực tiếp vào mảng\r\n    if (findNotZero) {\r\n      // nếu ngày được lưu trong firestore cùng tuần với ngày hiện tại thì thêm data vào mảng onlinedTime\r\n      if (getWeek(findNotZero.date) === getWeek(start)) {\r\n        // cùng tuần\r\n        if (compareDate(findNotZero.date, start)) {\r\n          findNotZero = {\r\n            ...findNotZero,\r\n            minutes: parseFloat((findNotZero.minutes + minutes).toFixed(1)),\r\n          };\r\n          onlinedTime[index] = { ...findNotZero };\r\n        } else {\r\n          // không cùng ngày thì add vô mảng\r\n          onlinedTime[index] = value;\r\n        }\r\n      } else {\r\n        // không cùng tuần thì sẽ tạo reset mảng về tất cả phần tử là 0\r\n        onlinedTime.fill(0);\r\n        onlinedTime[index] = value;\r\n      }\r\n    } else {\r\n      // mảng chưa được lưu trữ\r\n      onlinedTime[index] = value;\r\n    }\r\n\r\n    db.update({\r\n      onlinedTime,\r\n    }).catch((err) =>\r\n      alert(\"Xảy ra lỗi trong quá trình kết nối với firestore\\n\", err)\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    // tạo dữ liệu cho người dùng trong csdl\r\n    // nếu tài khoản có trong csdl từ trước sẽ load dữ liệu lên trực tiếp\r\n    // nếu không có sẽ tạo dữ liệu mới\r\n    const handleAccount = db.onSnapshot((snap) => {\r\n      if (snap.data()) {\r\n        const data = snap.data();\r\n        dispatch(addDataUser(data));\r\n      } else {\r\n        db.set({\r\n          countVocab: 0,\r\n          countTopic: 0,\r\n          score: 0,\r\n          onlinedTime: [0, 0, 0, 0, 0, 0, 0],\r\n        });\r\n      }\r\n    });\r\n\r\n    // lấy chủ đề từ csdl về\r\n    const fetchTopicsList = db.collection(\"topicsList\").onSnapshot(\r\n      (snap) => {\r\n        const list = [];\r\n\r\n        snap.forEach((doc) => {\r\n          list.push({ ...doc.data(), id: doc.id });\r\n        });\r\n        dispatch(addTopicsList(list));\r\n      },\r\n      (err) => alert(\"Lỗi trong quá trình tải chủ đề từ firestore!\\n\" + err)\r\n    );\r\n\r\n    return () => {\r\n      handleAccount();\r\n      fetchTopicsList();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setStart(Date.now());\r\n\r\n    return () => {\r\n      addOnlinedTime(start);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <div className={classes.root}>\r\n        <Nav />\r\n\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <TopicList />\r\n          </Route>\r\n\r\n          <Route path=\"/topic/:id\">\r\n            <VocabularyList />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React, { useEffect } from 'react';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { createMuiTheme } from '@material-ui/core';\r\nimport { selectStatus } from './features/darkmode/DarkModeSlice'\r\nimport { setStatus } from './features/darkmode/DarkModeSlice'\r\nimport SigninPage from './pages/SigninPage';\r\nimport { firebaseAuth } from './firebase'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getUser, removeUser } from './features/user/UserSlice'\r\nimport { selectUser } from './features/user/UserSlice'\r\nimport HomePage from './pages/HomePage';\r\n\r\nfunction App() {\r\n  const isDarkMode = useSelector(selectStatus)\r\n  const user = useSelector(selectUser)\r\n  const dispatch = useDispatch();\r\n\r\n  const theme = createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#8FB339',\r\n      },\r\n      secondary: {\r\n        main: '#B58DB6'\r\n      },\r\n      type: !isDarkMode ? 'light' : 'dark'\r\n    },\r\n  });\r\n\r\n  // theo dõi trạng thái đăng nhập\r\n  const handleChangeStateAccount = () => {\r\n    firebaseAuth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        console.log(user);\r\n        // lấy thông tin người dùng\r\n        const data = {\r\n          name: user.displayName,\r\n          email: user.email,\r\n          avatar: user.photoURL\r\n        }\r\n        dispatch(getUser(data))\r\n      }\r\n      else {\r\n        dispatch(removeUser())\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    handleChangeStateAccount();\r\n    const initialDarkMode = localStorage.getItem('isDarkMode') ? JSON.parse(localStorage.getItem('isDarkMode')) : false\r\n    dispatch(setStatus(initialDarkMode));\r\n  }, [])\r\n\r\n  if (!user) {\r\n    return <SigninPage />\r\n  }\r\n  else {\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <HomePage />\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport darkModeReducer from '../features/darkmode/DarkModeSlice'\r\nimport userReducer from '../features/user/UserSlice'\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    darkMode: darkModeReducer,\r\n    user: userReducer\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}